



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="HI" href="http://turnaround.icu/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="HI" href="http://turnaround.icu/atom.xml" />
<link rel="alternate" type="application/json" title="HI" href="http://turnaround.icu/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="js" />


<link rel="canonical" href="http://turnaround.icu/2022/05/23/%E5%89%8D%E7%AB%AF%E5%A4%8D%E4%B9%A04-day04/">



  <title>
前端复习4 day04 |
Yume Shoka = HI = nihao</title>
<meta name="generator" content="Hexo 5.4.1"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">前端复习4 day04
  </h1>
  
<div class="meta">
  <span class="item" title="Created: 2022-05-23 14:40:57">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">Posted on</span>
    <time itemprop="dateCreated datePublished" datetime="2022-05-23T14:40:57+08:00">2022-05-23</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="Toggle navigation bar">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">Yume Shoka</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
          <img src="https://s3.bmp.ovh/imgs/2022/04/07/d46d208771061177.jpg">
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">Home</a></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="en">
  <link itemprop="mainEntityOfPage" href="http://turnaround.icu/2022/05/23/%E5%89%8D%E7%AB%AF%E5%A4%8D%E4%B9%A04-day04/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="XU XUESI">
    <meta itemprop="description" content="nihao, ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="HI">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><p>程序的主要—<strong>构建模块</strong></p>
<p>函数可以使一段代码-多次被调用—而不需要重复写</p>
<h3 id="常见内建函数"><a href="#常见内建函数" class="headerlink" title="常见内建函数"></a>常见内建函数</h3><p><code>alert(message)</code>,<code>prompt(message,default)</code>,<code>confirm(question)</code></p>
<h2 id="自定义函数-第一种书写方式—函数的声明"><a href="#自定义函数-第一种书写方式—函数的声明" class="headerlink" title="自定义函数    第一种书写方式—函数的声明"></a>自定义函数    第一种书写方式—函数的声明</h2><p>1.使用函数声明创建函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&#x27;hi everyone !&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// function 关键字 + 函数名（showMessage）+ 参数列表(parameter1,parameter2,...parameterN) + &#123;...body...&#125;</span></span><br><span class="line">funtion <span class="title function_">name</span>(<span class="params">parameter1,parameter2,... parameterN</span>)&#123;</span><br><span class="line">    ...body...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用showMessage</span></span><br><span class="line"><span class="title function_">showMessage</span>() </span><br><span class="line"><span class="comment">//函数的主要目的之一：避免代码重复。    </span></span><br></pre></td></tr></table></figure>

<h3 id="局部变量-–-只在函数内部可见"><a href="#局部变量-–-只在函数内部可见" class="headerlink" title="局部变量 – 只在函数内部可见"></a>局部变量 – 只在函数内部可见</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="comment">//函数内部定义的局部变量</span></span><br><span class="line">	<span class="keyword">let</span> message = <span class="string">&#x27;hello, i am JS&#x27;</span>	</span><br><span class="line">	<span class="title function_">alert</span>(message)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">alter</span>(messgage) <span class="comment">//错误 message是函数的局部变量</span></span><br></pre></td></tr></table></figure>

<h3 id="外部变量—函数也可以访问外部变量"><a href="#外部变量—函数也可以访问外部变量" class="headerlink" title="外部变量—函数也可以访问外部变量"></a>外部变量—函数也可以访问外部变量</h3><p>函数对外部变量拥有全部<strong>访问权限</strong>，也可以<strong>修改</strong>外部变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 访问了外部变量userName    </span></span><br><span class="line">	<span class="keyword">let</span> userName = <span class="string">&#x27;Xu&#x27;</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> message = <span class="string">&#x27;hello, &#x27;</span> + userName</span><br><span class="line">        <span class="title function_">alert</span>(message)        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">showMessage</span>() <span class="comment">// hello, Xu 调用函数showMessage</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 访问并修改了外部变量userName</span></span><br><span class="line"> <span class="keyword">let</span> userName = <span class="string">&#x27;Xu&#x27;</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 修改外部变量</span></span><br><span class="line">        userName = <span class="string">&#x27;Bob&#x27;</span>    </span><br><span class="line">        <span class="comment">// 访问了外部变量userName</span></span><br><span class="line">        <span class="keyword">let</span> message = <span class="string">&#x27;hello, &#x27;</span> + userName</span><br><span class="line">        <span class="title function_">alert</span>(message)        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">alert</span>(userName) <span class="comment">//  Xu 函数调用之前</span></span><br><span class="line">    <span class="title function_">showMessage</span>()   <span class="comment">//  hello + Bob 调用函数后 修改了userName</span></span><br><span class="line">    <span class="title function_">alert</span>(userName) <span class="comment">// Bob 值被函数修改了 </span></span><br></pre></td></tr></table></figure>

<p>如果函数内部声明了<strong>同名变量</strong>—函数<strong>屏蔽</strong>外部变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userName = <span class="string">&#x27;Xu&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">let</span> userName = <span class="string">&#x27;Bob&#x27;</span>	<span class="comment">//函数内部--声明了同名变量</span></span><br><span class="line">	<span class="keyword">let</span> message = <span class="string">&#x27;hello&#x27;</span> + userName </span><br><span class="line">	<span class="title function_">alert</span>(message)	<span class="comment">//hello Bob</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用函数 但是函数使用内部变量</span></span><br><span class="line"><span class="title function_">showMessage</span>()	<span class="comment">//hello Bob</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(userName)	<span class="comment">//Xu 未被更改	函数没有访问外部变量</span></span><br></pre></td></tr></table></figure>

<p>任何函数之外的变量–<strong>全局</strong>变量-</p>
<p>–全局变量在任何函数<strong>可见</strong>（除非被<strong>局部</strong>变量<strong>屏蔽</strong>）</p>
<p>—-<strong>减少</strong><u>全局</u>变量—-全局变量（存储<strong>项目级别</strong>数据）</p>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>通过参数—传递函数</p>
<p>参数（parameter）–形参—函数<strong>声明</strong>中列出的变量</p>
<p>参数（argument）–实参—<strong>调用</strong>函数时传递给函数的值</p>
<h3 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h3><p>函数被调用时–argument未被提供—对应值undefined</p>
<p>可以在<strong>声明</strong>中指定“默认”    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"><span class="keyword">from</span>,text=<span class="string">&#x27;hi&#x27;</span></span>)&#123;</span><br><span class="line">	<span class="title function_">alert</span>(<span class="keyword">from</span> + <span class="string">&#x27;:&#x27;</span> + text)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">showMessage</span>(<span class="string">&#x27;xu&#x27;</span>)	<span class="comment">// xu : hi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"><span class="keyword">from</span>, text = anotherFunction()</span>) &#123;</span><br><span class="line">  <span class="comment">// anotherFunction() 仅在没有给定 text 时执行</span></span><br><span class="line">  <span class="comment">// 其运行结果将成为 text 的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>“默认”可以使一个字符串—也可以更复杂表达式或函数（缺少参数时）</p>
<p>传递了实参text–anotherFunction( )不会被调用</p>
<p>没有传递参数text–anotherFunction( )被调用</p>
<p>可以代替JavaScript老代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(text===<span class="literal">undefined</span>)&#123;</span><br><span class="line">	text = <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 或者使用||	undefined时--hi</span></span><br><span class="line">text = text || <span class="string">&#x27;hi&#x27;</span>	</span><br></pre></td></tr></table></figure>

<p>参数默认值–可以设置在函数执行时</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//空值合并运算符 ?? </span></span><br><span class="line">count ?? <span class="string">&quot;unknown&quot;</span>	</span><br></pre></td></tr></table></figure>

<p>假值（null或者undefined）— 提示unknown</p>
<h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h3><p>指令 <code>return</code> 在函数的任意位置–执行到达时，函数停止，返回值-</p>
<p>–一个函数可以出现多次<code>return</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一个函数可以出现多个return</span></span><br><span class="line"><span class="comment">//声明检测年龄函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkAge</span>(<span class="params">age</span>)&#123;</span><br><span class="line">	<span class="keyword">if</span>(age&gt;<span class="number">18</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>; </span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="title function_">confirm</span>(<span class="string">&#x27;Got the permission ?&#x27;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//输入年龄</span></span><br><span class="line"><span class="keyword">let</span> age = <span class="title function_">prompt</span>(<span class="string">&#x27;how old are you&#x27;</span>,<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用检测函数	</span></span><br><span class="line"><span class="keyword">if</span>(<span class="title function_">checkAge</span>(age))&#123;</span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&#x27;Access Granted&#x27;</span>)</span><br><span class="line">&#125;<span class="keyword">else</span></span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&#x27;Acess Granted&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>可以使用<code>return</code>–没有返回值也行—立即退出</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMovie</span>(<span class="params">age</span>)&#123;</span><br><span class="line">	<span class="comment">//checkAge--false时 返回并停止函数</span></span><br><span class="line">	<span class="keyword">if</span>(!<span class="title function_">checkAge</span>(age))&#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//checkAge--false时 不会执行到alert</span></span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&#x27;showing you the movie&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>空值的 <code>return</code> 和 <code>return undefined</code> 等效</p>
<p>无返回值—等效—<code>return undefined</code> </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doNothing</span>(<span class="params"></span>) &#123; <span class="comment">/* 没有代码 */</span> &#125;</span><br><span class="line"><span class="title function_">alert</span>( <span class="title function_">doNothing</span>() === <span class="literal">undefined</span> ); <span class="comment">// true</span></span><br><span class="line">---------</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">doNothing</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">alert</span>( <span class="title function_">doNothing</span>() === <span class="literal">undefined</span> ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>return返回表达式–跨多行形式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  some + long + expression</span><br><span class="line">  + or +</span><br><span class="line">  whatever * <span class="title function_">f</span>(a) + <span class="title function_">f</span>(b)</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>

<h3 id="函数命名"><a href="#函数命名" class="headerlink" title="函数命名"></a>函数命名</h3><p>函数–action（行为）—动词 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">showMessage</span>(..)	<span class="comment">//显示信息</span></span><br><span class="line"><span class="title function_">getAge</span>(..)	<span class="comment">//返回age</span></span><br><span class="line"><span class="title function_">calcSum</span>(..) <span class="comment">//计算求和并返回结果</span></span><br><span class="line"><span class="title function_">createForm</span>(..)<span class="comment">//创建表单(并返回)</span></span><br><span class="line"><span class="title function_">checkPermisson</span>(..)<span class="comment">//检测权限返回true/false</span></span><br></pre></td></tr></table></figure>

<p><strong>一个函数 —— 一个行为</strong></p>
<ul>
<li><code>getAge</code> —— 如果它通过 <code>alert</code> 将 age 显示出来，那就有问题了（只应该是获取）。</li>
</ul>
<p>常用的函数有时会有<strong>非常短</strong>的名字</p>
<p><a target="_blank" rel="noopener" href="http://jquery.com/">jQuery</a> 框架用 <code>$</code> 定义一个函数        <a target="_blank" rel="noopener" href="http://lodash.com/">LoDash</a> 库的核心函数用 <code>_</code> 命名</p>
<h3 id="函数应该简短且只有一个功能"><a href="#函数应该简短且只有一个功能" class="headerlink" title="函数应该简短且只有一个功能"></a>函数应该简短且只有一个功能</h3><p>功能复杂—拆分几个小函数</p>
<p>代码称为 <strong>自描述</strong></p>
<p>质数大于等于2—不能被它本身和1以外的数整除</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//输出到n的素数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showPrimes</span>(<span class="params">n</span>)&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">2</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="comment">//不是素数	停止--继续循环</span></span><br><span class="line">		<span class="keyword">if</span>(!<span class="title function_">isPrime</span>(i))	<span class="keyword">continue</span></span><br><span class="line">		<span class="comment">//是素数 输出</span></span><br><span class="line">		<span class="title function_">alert</span>(i)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否为素数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isPrime</span>(<span class="params">n</span>)&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">2</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(n%<span class="number">2</span> == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">	&#125;<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>优秀的函数名前缀，如 <code>create…</code>、<code>show…</code>、<code>get…</code>、<code>check…</code> 等等</p>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">checkAge</span>(<span class="params">age</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (age &gt; <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">confirm</span>(<span class="string">&#x27;父母允许吗？&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">-------------</span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">checkAge</span>(<span class="params">age</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (age &gt; <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">confirm</span>(<span class="string">&#x27;父母允许吗？&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//2个变体无区别--return true 即停止执行函数</span></span><br><span class="line">  <span class="comment">//if为假时--return confirm()</span></span><br><span class="line">  <span class="comment">//可以使用return 省略else</span></span><br></pre></td></tr></table></figure>

<h3 id="使用-‘-’-或者-‘-’-重写函数"><a href="#使用-‘-’-或者-‘-’-重写函数" class="headerlink" title="使用 ‘?’ 或者 ‘||’ 重写函数"></a>使用 ‘?’ 或者 ‘||’ 重写函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如果参数 age 大于 18，那么下面的函数返回 true</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkAge</span>(<span class="params">age</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (age &gt; <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">confirm</span>(<span class="string">&#x27;Do you have your parents permission to access this page?&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkAgev1</span>(<span class="params">age</span>)&#123;</span><br><span class="line">   <span class="keyword">return</span> (age&gt;<span class="number">18</span>) ? <span class="literal">true</span> : <span class="title function_">confirm</span>(<span class="string">&#x27;Do you have your parents permission to access this page?&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">--------------</span><br><span class="line"><span class="comment">//最短变体 age&gt;18 true则短路--不会执行后面 false则执行到底</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkAgeV2</span>(<span class="params">age</span>)&#123;</span><br><span class="line">   <span class="keyword">return</span> (age&gt;<span class="number">18</span>) || <span class="title function_">confirm</span>(<span class="string">&#x27;Do you have your parents permission to access this page?&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数min-a-b"><a href="#函数min-a-b" class="headerlink" title="函数min(a,b)"></a>函数min(a,b)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回数字 a 和 b 中较小的那个数字的函数 min(a,b)</span></span><br><span class="line"><span class="comment">//a == b情况下 返回什么无关紧要</span></span><br><span class="line">funcion <span class="title function_">min</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">	<span class="keyword">return</span> (a&lt;b) ? a : b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数-pow-x-n"><a href="#函数-pow-x-n" class="headerlink" title="函数 pow(x,n)"></a>函数 pow(x,n)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数 pow(x,n)，返回 x 的 n 次方    </span></span><br><span class="line"><span class="comment">// 函数应该只支持自然数 n：从 1 开始的整数。</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">pow</span>(<span class="params">x,n</span>)&#123;</span><br><span class="line">	<span class="keyword">let</span> result = x;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">       result *= x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> x = +<span class="title function_">prompt</span>(<span class="string">&#x27;input the x&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> n = +<span class="title function_">prompt</span>(<span class="string">&#x27;input the n&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(n&lt;<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">`Power <span class="subst">$&#123;n&#125;</span> is not supported , use a positive integer`</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="title function_">pow</span>(x,n))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第二种书写方式—函数表达式"><a href="#第二种书写方式—函数表达式" class="headerlink" title="第二种书写方式—函数表达式"></a>第二种书写方式—函数表达式</h2><p>函数–特殊的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数声明</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHi</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">------------</span><br><span class="line"><span class="comment">//函数表达式</span></span><br><span class="line"><span class="keyword">let</span> sayhi = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数的创建—发生在赋值表达式</p>
<h3 id="函数是一个值"><a href="#函数是一个值" class="headerlink" title="函数是一个值"></a>函数是一个值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayHi</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">alert</span>(sayHi)	<span class="comment">//输出函数源码</span></span><br><span class="line"><span class="comment">//sayHi 后没有括号 没有调用</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sayHi = <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="comment">// (1) 创建</span></span><br><span class="line">  <span class="title function_">alert</span>( <span class="string">&quot;Hello&quot;</span> );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> func = sayHi;</span><br><span class="line"><span class="comment">// ...两种声明的函数是一样的</span></span><br></pre></td></tr></table></figure>

<h3 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明ask</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ask</span>(<span class="params">question,yes,no</span>)&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="title function_">confirm</span>(question)) <span class="title function_">yes</span>()</span><br><span class="line">	<span class="keyword">else</span> <span class="title function_">no</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//声明showOk</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showOk</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&#x27;agreed&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//声明showCancel</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showCancel</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&#x27;canceled&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用ask	函数showOK,showCancel	传入ask 称为回调函数或回调</span></span><br><span class="line"><span class="title function_">ask</span>(<span class="string">&#x27;do you agree&#x27;</span>,showOK,showCancel)</span><br><span class="line"></span><br><span class="line"><span class="comment">//showOk--yes回调	showCancel--no的回调</span></span><br></pre></td></tr></table></figure>

<h3 id="函数表达式简写"><a href="#函数表达式简写" class="headerlink" title="函数表达式简写"></a>函数表达式简写</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明ask</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ask</span>(<span class="params">question,yes,no</span>)&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="title function_">confirm</span>(question)) <span class="title function_">yes</span>()</span><br><span class="line">	<span class="keyword">else</span> <span class="title function_">no</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">ask</span>(</span><br><span class="line">	<span class="string">&#x27;do you agree&#x27;</span>,</span><br><span class="line">	<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="title function_">alert</span>(<span class="string">&#x27;agreed&#x27;</span>);&#125;,</span><br><span class="line">	<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="title function_">alert</span>(<span class="string">&#x27;canceled&#x27;</span>);&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>两个函数没有名字–匿名函数—ask外无法访问</p>
<h3 id="函数表达式-vs-函数声明"><a href="#函数表达式-vs-函数声明" class="headerlink" title="函数表达式 vs 函数声明"></a>函数表达式 vs 函数声明</h3><p>JavaScript 引擎会在 <strong>什么时候</strong> 创建函数</p>
<p><strong>函数表达式—代码执行到达时被创建并可用</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">sayHi</span>(<span class="string">&quot;John&quot;</span>); <span class="comment">// error!</span></span><br><span class="line"><span class="keyword">let</span> sayHi = <span class="keyword">function</span>(<span class="params">name</span>) &#123;  <span class="comment">// (*) no magic any more</span></span><br><span class="line">  <span class="title function_">alert</span>( <span class="string">`Hello, <span class="subst">$&#123;name&#125;</span>`</span> );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>函数声明–定义之前可调用</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">sayHi</span>(<span class="string">&quot;John&quot;</span>); <span class="comment">// Hello, John</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHi</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>( <span class="string">`Hello, <span class="subst">$&#123;name&#125;</span>`</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>严格模式下****代码块外不可见</strong></p>
<p>将 <code>welcome</code> 赋值给在 <code>if</code> 外声明的变量—具有正确的可见性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="title function_">prompt</span>(<span class="string">&quot;What is your age?&quot;</span>, <span class="number">18</span>);</span><br><span class="line"><span class="keyword">let</span> welcome;</span><br><span class="line"><span class="keyword">if</span> (age &lt; <span class="number">18</span>) &#123;</span><br><span class="line">  welcome = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  welcome = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;Greetings!&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">welcome</span>(); <span class="comment">// 现在可以了</span></span><br><span class="line">---------------------------------------</span><br><span class="line"><span class="keyword">let</span> age = <span class="title function_">prompyt</span>(<span class="string">&#x27;what is your age&#x27;</span>,<span class="number">18</span>)</span><br><span class="line"><span class="keyword">let</span> welcome = (age&lt;<span class="number">18</span>)	?</span><br><span class="line">	<span class="keyword">function</span>(<span class="params"></span>)	&#123;<span class="title function_">alert</span>(<span class="string">&#x27;hello&#x27;</span>);&#125; :</span><br><span class="line">	<span class="keyword">function</span>(<span class="params"></span>)	&#123;<span class="title function_">alert</span>(<span class="string">&#x27;greetings&#x27;</span>);&#125;;</span><br><span class="line"><span class="title function_">welcome</span>()</span><br></pre></td></tr></table></figure>

<p>声明一个函数时，首先考虑函数<strong>声明语法</strong></p>
<p>查找 <code>function f(…) &#123;…&#125;</code> 比 <code>let f = function(…) &#123;…&#125;</code> 更容易</p>
<p>函数声明不适合—使用函数表达式</p>
<h2 id="第三种创建方式—箭头函数"><a href="#第三种创建方式—箭头函数" class="headerlink" title="第三种创建方式—箭头函数"></a>第三种创建方式—箭头函数</h2><p>方法通常比函数表达式更好</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//箭头函数	表达式更短的版本</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">func</span> = (<span class="params">arg1,arg2,...,argN</span>)=&gt;experssion</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> func = <span class="keyword">function</span>(<span class="params">arg1, arg2, ..., argN</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> expression;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>具体的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">sum</span> = (<span class="params">a,b</span>) =&gt; a + b</span><br><span class="line"><span class="keyword">let</span> sum = <span class="keyword">function</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>只有一个参数–省略参数外括号—代码更短</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">double</span> = n =&gt; n * <span class="number">2</span></span><br><span class="line"><span class="title function_">double</span>(<span class="number">3</span>)	<span class="comment">//6</span></span><br></pre></td></tr></table></figure>

<p>没有参数，括号则是空的（但括号必须保留）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">sayHi</span> = (<span class="params"></span>)=&gt; <span class="title function_">alert</span>(<span class="string">&#x27;hi&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>动态创建一个函数：简单的单行行为（action）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="title function_">prompyt</span>(<span class="string">&#x27;what is your age&#x27;</span>,<span class="number">18</span>)</span><br><span class="line"><span class="keyword">let</span> welcome = (age&lt;<span class="number">18</span>)	?</span><br><span class="line">	<span class="function">() =&gt;</span> <span class="title function_">alert</span>(<span class="string">&#x27;hello&#x27;</span>) :</span><br><span class="line">	<span class="function">() =&gt;</span> <span class="title function_">alert</span>(<span class="string">&#x27;greetings&#x27;</span>) ;</span><br><span class="line"><span class="title function_">welcome</span>();</span><br></pre></td></tr></table></figure>

<h3 id="多行的箭头函数"><a href="#多行的箭头函数" class="headerlink" title="多行的箭头函数"></a>多行的箭头函数</h3><p>多行–花括号—return</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">sum</span> = (<span class="params">a, b</span>) =&gt; &#123; </span><br><span class="line">   <span class="comment">// 花括号表示开始一个多行函数</span></span><br><span class="line">  <span class="keyword">let</span> result = a + b;</span><br><span class="line">   <span class="comment">// 如果我们使用了花括号，那么我们需要一个显式的 “return”</span></span><br><span class="line">  <span class="keyword">return</span> result; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( <span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>) ); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><ul>
<li><p>不带花括号：<code>(...args) =&gt; expression</code> —一个参数可省略括号<code>n =&gt; n*2</code>。</p>
</li>
<li><p>带花括号: <code>(...args) =&gt; &#123; body &#125;</code> 多行语句 — 需要return返回</p>
</li>
</ul>
<h3 id="练习-1"><a href="#练习-1" class="headerlink" title="练习"></a>练习</h3><hr>
<h3 id="用箭头函数重写"><a href="#用箭头函数重写" class="headerlink" title="用箭头函数重写"></a>用箭头函数重写</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ask</span>(<span class="params">question, yes, no</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title function_">confirm</span>(question)) <span class="title function_">yes</span>();</span><br><span class="line">  <span class="keyword">else</span> <span class="title function_">no</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">ask</span>(</span><br><span class="line">  <span class="string">&quot;Do you agree?&quot;</span>,</span><br><span class="line">  <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="title function_">alert</span>(<span class="string">&quot;You agreed.&quot;</span>); &#125;,</span><br><span class="line">  <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="title function_">alert</span>(<span class="string">&quot;You canceled the execution.&quot;</span>); &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="title function_">ask</span>(</span><br><span class="line">	<span class="string">&#x27;do you agree&#x27;</span>,</span><br><span class="line">    <span class="function">()=&gt;</span><span class="title function_">alert</span>(<span class="string">&#x27;agreed&#x27;</span>),</span><br><span class="line">    <span class="function">()=&gt;</span><span class="title function_">alert</span>(<span class="string">&#x27;canceled&#x27;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript特性"><a href="#JavaScript特性" class="headerlink" title="JavaScript特性"></a>JavaScript特性</h2><h3 id="代码结构"><a href="#代码结构" class="headerlink" title="代码结构"></a>代码结构</h3><p>语句用分号分隔</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;hello&#x27;</span>);	<span class="title function_">alert</span>(<span class="string">&#x27;world&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>换行符–隔离符</p>
<p>自动分号插入—有时不起作用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>].<span class="title function_">forEach</span>(alert);</span><br></pre></td></tr></table></figure>

<p>JavaScript 引擎并没有假设在方括号 <code>[...]</code> 前有一个分号</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;There will be an error after this message&quot;</span>)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>].<span class="title function_">forEach</span>(alert)</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;There will be an error after this message&quot;</span><span class="string">&quot;)[1, 2].forEach(alert);</span></span><br></pre></td></tr></table></figure>

<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><ul>
<li><p><code>let</code></p>
</li>
<li><p><code>const</code>（不变的，不能被改变）</p>
</li>
<li><p><code>var</code>（旧式的，稍后会看到）</p>
<p>变量组成</p>
<ul>
<li><p>字母和数字，但是第一个字符不能是数字。</p>
</li>
<li><p>字符 <code>$</code> 和 <code>_</code> 是允许的，用法同字母。</p>
</li>
<li><p>非拉丁字母和象形文字也是允许的，但通常不会使用。</p>
</li>
</ul>
</li>
</ul>
<p>变量是动态类型–存储任何值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">5</span>;</span><br><span class="line">x = <span class="string">&quot;John&quot;</span>;</span><br></pre></td></tr></table></figure>

<p> 8 种数据类型：</p>
<ul>
<li><p><code>number</code> — 可以是浮点数，也可以是整数</p>
</li>
<li><p><code>string</code> — 字符串类型</p>
</li>
<li><p><code>boolean</code> — 逻辑值：<code>true/false</code></p>
</li>
<li><p><code>null</code> — 具有单个值 <code>null</code> 的类型，表示“空”或“不存在”</p>
</li>
<li><p><code>undefined</code> — 具有单个值 <code>undefined</code> 的类型，表示“未分配（未定义）”</p>
</li>
<li><p><code>bigint</code> — 用于任意长度的整数</p>
</li>
<li><p><code>object</code> 和 <code>symbol</code> — 对于<strong>复杂的数据结构</strong>和唯一<strong>标识符</strong></p>
</li>
</ul>
<p><code>typeof</code> 运算符返回值的类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> == <span class="string">&quot;object&quot;</span> <span class="comment">//JavaScript 编程语言的设计错误</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125; == <span class="string">&quot;function&quot;</span> <span class="comment">// 函数被特殊对待</span></span><br></pre></td></tr></table></figure>

<h3 id="交互"><a href="#交互" class="headerlink" title="交互"></a>交互</h3><p><code>prompt(question[, default])</code>提出一个问题，「取消」则返回 <code>null</code></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/API/Window/confirm"><code>confirm(question)</code></a>提出一个问题，并建议用户在“确定”和“取消”之间进行选择</p>
<p><code>alert(message)</code>输出一个 <code>消息</code></p>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>二进制加号 <code>+</code> 可以连接字符串。</p>
<p>一个操作数是一个字符串，那么另一个操作数也将被转换为字符串</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>( <span class="string">&#x27;1&#x27;</span> + <span class="number">2</span> ); <span class="comment">// &#x27;12&#x27;，字符串</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="number">1</span> + <span class="string">&#x27;2&#x27;</span> ); <span class="comment">// &#x27;12&#x27;，字符串</span></span><br></pre></td></tr></table></figure>

<p><strong>空值合并运算符</strong></p>
<p><code>??</code> 运算符—<code>a ?? b</code> 的结果是 <code>a</code>，除非 <code>a</code> 为 <code>null/undefined</code>–结果是 <code>b</code></p>
<p><strong>比较运算符</strong>–将不同类型的值转换为数字—除了 <code>null</code> 和 <code>undefined</code>不相等于其他任何值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>( <span class="number">0</span> == <span class="literal">false</span> ); <span class="comment">// true</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="number">0</span> == <span class="string">&#x27;&#x27;</span> ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>“switch” 结构可以替代多个 <code>if</code> 检查</p>
<h3 id="函数-1"><a href="#函数-1" class="headerlink" title="函数"></a>函数</h3><p>三种在 JavaScript 中创建函数的方式</p>
<p>函数声明：主代码流中的函数</p>
<p>函数表达式：表达式上下文中的函数</p>
<p>箭头函数</p>
<p>参数可以有默认值：<code>function sum(a = 1, b = 2) &#123;...&#125;</code></p>
<p>函数总是返回一些东西—没有 <code>return</code> 语句—-结果是 <code>undefined</code></p>
<h3 id="函数的返回值return"><a href="#函数的返回值return" class="headerlink" title="函数的返回值return"></a>函数的返回值return</h3><p>希望将值返回给–调用者—return语句</p>
<p>代码验证</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getResult</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getResult</span>()	<span class="comment">//123</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getResult</span>());</span><br></pre></td></tr></table></figure>

<p>利用函数求任意2个数的MAX</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 利用函数求任意2个数的max</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">numMax</span>(<span class="params">num1,num2</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// if(num1&gt;num2)&#123;</span></span><br><span class="line">    <span class="comment">//     return num1</span></span><br><span class="line">    <span class="comment">// &#125;else</span></span><br><span class="line">    <span class="comment">//     return num2  </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> num1&gt;num2 ? num1 : num2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">numMax</span>(<span class="number">2</span>,<span class="number">3</span>));</span><br></pre></td></tr></table></figure>

<p>利用函数求任意一个数组的最大值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 利用函数求任意一个数组中Max</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">arrMax</span>(<span class="params">array</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> arrMax = array [<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>-<span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(array[i] &gt; arrMax)&#123;</span><br><span class="line">         arrMax = array[i]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrMax);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">arrMax</span>([<span class="number">4</span>,<span class="number">23</span>,<span class="number">2</span>,<span class="number">34</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<p>return 会 <strong>终止</strong>函数    并且只能返回<strong>一个值</strong>    多个则是第一个</p>
<p>但是可以用数组[]形式返回多个数值    没有return则返回undefined</p>
<p>break 结束当前的循环体 (for while)</p>
<p>continue 跳出本次循环    执行下次循环</p>
<p>return    不仅可以<strong>退出循环</strong> 还能返回<strong>return</strong>语句中的<strong>值</strong>    同时可以<strong>结束函数体</strong>的代码</p>
<p>函数本质    1.输入参数    2.内部处理     3.返回结果</p>
<h3 id="arguments的使用"><a href="#arguments的使用" class="headerlink" title="arguments的使用"></a>arguments的使用</h3><p>不确定多少个参数传递—使用arguments来获取—arguments函数<strong>所有函数内置对象</strong>—arguments对象中存储了<strong>传递的所有实参</strong></p>
<p>arguments &#x2F;&#x2F;对象–伪数组 </p>
<p>1.数组length属性</p>
<p>2.索引方式进行存储</p>
<p>3.但是没有<strong>数组</strong>的方法 pop() push()等</p>
<p>只有函数–才有arguments对象—所有函数均内置了arguments对象</p>
<h3 id="利用函数求任意个数的MAX"><a href="#利用函数求任意个数的MAX" class="headerlink" title="利用函数求任意个数的MAX"></a>利用函数求<strong>任意个数</strong>的MAX</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 利用函数求任意个数的最大值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getMax</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> max = <span class="variable language_">arguments</span> [<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">arguments</span>[i]&gt;max)&#123;</span><br><span class="line">            max = <span class="variable language_">arguments</span>[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getMax</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>));</span><br></pre></td></tr></table></figure>

<h3 id="利用函数翻转数组"><a href="#利用函数翻转数组" class="headerlink" title="利用函数翻转数组"></a>利用函数翻转数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 利用函数翻转任意数组</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reverse</span>(<span class="params">array</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> newArray = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  newArray[newArray.<span class="property">length</span>] = array [array.<span class="property">length</span>-i-<span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line">  <span class="keyword">return</span> newArray  </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr1 = <span class="title function_">reverse</span>([<span class="number">1</span>,<span class="number">123</span>,<span class="number">2131</span>,<span class="number">123</span>,<span class="number">421</span>,<span class="number">12</span>,<span class="number">43</span>,<span class="number">1</span>,<span class="number">4</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);</span><br></pre></td></tr></table></figure>

<h3 id="利用函数封装冒泡排序—对数组进行排序"><a href="#利用函数封装冒泡排序—对数组进行排序" class="headerlink" title="利用函数封装冒泡排序—对数组进行排序"></a>利用函数封装冒泡排序—对数组进行排序</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 利用函数封装 冒泡排序</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bubble</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>-<span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; arr.<span class="property">length</span>-i-<span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j]&gt;arr[j+<span class="number">1</span>])&#123;</span><br><span class="line">                <span class="keyword">let</span> temp = arr[j]</span><br><span class="line">                arr[j] = arr[j+<span class="number">1</span>]</span><br><span class="line">                arr[j+<span class="number">1</span>] = temp</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr1 = <span class="title function_">bubble</span>([<span class="number">5</span>,<span class="number">6</span>,<span class="number">123</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">0</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);</span><br></pre></td></tr></table></figure>

<h3 id="判断是否为闰年"><a href="#判断是否为闰年" class="headerlink" title="判断是否为闰年"></a>判断是否为闰年</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断闰年 被4整除  并且不能被100整除   或者能被400整除</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ifLeapYear</span>(<span class="params">year</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span> || year % <span class="number">400</span> == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;year&#125;</span> is leapYear`</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;year&#125;</span> is not leapYear`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">ifLeapYear</span>(<span class="number">2000</span>)</span><br></pre></td></tr></table></figure>

<h3 id="函数调用另一个函数"><a href="#函数调用另一个函数" class="headerlink" title="函数调用另一个函数"></a>函数调用另一个函数</h3><p>判断当年的二月份的天数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> year = +<span class="title function_">prompt</span>(<span class="string">&#x27;input the year&#x27;</span>)</span><br><span class="line"><span class="title function_">yearDay</span>(<span class="title function_">ifLeapYear</span>(year))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输入当年年份 输出当前年份2月份的天数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ifLeapYear</span>(<span class="params">year</span>) &#123;</span><br><span class="line">	<span class="keyword">let</span> isFlag = <span class="literal">false</span></span><br><span class="line"><span class="keyword">if</span> (year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span> || year % <span class="number">400</span> == <span class="number">0</span>) &#123;</span><br><span class="line">	isFlag = <span class="literal">true</span> </span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">return</span> isFlag</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">yearDay</span>(<span class="params">isFlag</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(isFlag)&#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;29&#x27;</span>)   </span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;28&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数的2种声明方式</p>
<p>1.利用函数<strong>关键字</strong>function()</p>
<p>2.利用函数表达式 let fn &#x3D; function(){};</p>
<h2 id="JavaScript两种作用域"><a href="#JavaScript两种作用域" class="headerlink" title="JavaScript两种作用域"></a>JavaScript<strong>两种</strong>作用域</h2><p><strong>全局</strong>变量和<strong>局部</strong>变量</p>
<p>全局作用域-比较占内存–浏览器关闭才会销毁</p>
<p>局部变量-执行、初始化–结束、销毁—更节省内存</p>
<p>在作用域<strong>链中</strong>查找变量的值</p>
<h3 id="JS预解析"><a href="#JS预解析" class="headerlink" title="JS预解析"></a>JS预解析</h3><p>JS解析器（内核） 解析JS分为哪两个步骤</p>
<p><strong>变量提升</strong>的步骤和运行过程</p>
<p><strong>函数提升</strong>的步骤和运行过程</p>
<p>预解析–代码执行</p>
<p>预解析 — js引擎会把 所有var和function提升到<strong>当前域</strong>最前面</p>
<p>但是预解析 不提升赋值操作、不调用函数</p>
<p>代码执行 — 书写顺序从上往下 执行</p>
<p>集体声明 var a &#x3D; b &#x3D; c &#x3D; 9 相当于 var a&#x3D;9； b &#x3D;9 ； c &#x3D; 9</p>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><hr>
<p>JavaScript 中有八种数据类型。有七种原始类型（基本数据类）</p>
<p>对象–存储键值+更复杂实体</p>
<p>字面量{} 创建对象</p>
<p><strong>属性列表</strong> 的花括号 <code>&#123;…&#125;</code> 来创建对象—一个属性（一个键值对key : value）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> <span class="title class_">Object</span>(); <span class="comment">// “构造函数” 的语法</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;&#125;;  <span class="comment">// “字面量” 的语法</span></span><br></pre></td></tr></table></figure>

<p>通常使用字面量—属性以<strong>键值对</strong>的形式放到 <code>&#123;...&#125;</code> 中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;     <span class="comment">// 一个对象</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,  <span class="comment">// 键 &quot;name&quot;，值 &quot;John&quot;</span></span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>        <span class="comment">// 键 &quot;age&quot;，值 30</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>user</code> 对象中，有两个属性：</p>
<ol>
<li>第一个的键是 <code>&quot;name&quot;</code>，值是 <code>&quot;John&quot;</code></li>
<li>第二个的键是 <code>&quot;age&quot;</code>，值是 <code>30</code></li>
</ol>
<p>可以随时添加、删除和读取文件</p>
<p>点符号访问属性值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 读取文件的属性：</span></span><br><span class="line"><span class="title function_">alert</span>( user.<span class="property">name</span> ); <span class="comment">// John</span></span><br><span class="line"><span class="title function_">alert</span>( user.<span class="property">age</span> ); <span class="comment">// 30</span></span><br></pre></td></tr></table></figure>

<p>用 <code>delete</code> 操作符移除属性：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> user.<span class="property">age</span>;</span><br></pre></td></tr></table></figure>

<p>‘多字词语’ 来作为属性名：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="string">&quot;likes birds&quot;</span>: <span class="literal">true</span>  <span class="comment">// 多词属性名必须加引号</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>列表中的最后一个属性应以逗号结尾：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="方括号"><a href="#方括号" class="headerlink" title="方括号"></a>方括号</h3><p>多词属性，点操作就不能用了：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这将提示有语法错误</span></span><br><span class="line">user.<span class="property">likes</span> birds = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置</span></span><br><span class="line">user[<span class="string">&quot;likes birds&quot;</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取</span></span><br><span class="line"><span class="title function_">alert</span>(user[<span class="string">&quot;likes birds&quot;</span>]); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除</span></span><br><span class="line"><span class="keyword">delete</span> user[<span class="string">&quot;likes birds&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> key = <span class="title function_">prompt</span>(<span class="string">&quot;What do you want to know about the user?&quot;</span>, <span class="string">&quot;name&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 访问变量</span></span><br><span class="line"><span class="title function_">alert</span>( user[key] ); <span class="comment">// John（如果输入 &quot;name&quot;）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//点符号不能以类似的方式使用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> key = <span class="string">&quot;name&quot;</span>;</span><br><span class="line"><span class="title function_">alert</span>( user.<span class="property">key</span> ) <span class="comment">// undefined</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h3><p>可以在<strong>对象字面量</strong>中使用方括号–<strong>计算属性</strong></p>
<p><code>[fruit]</code> 含义是<strong>属性名</strong>应该从 <code>fruit</code> <strong>变量</strong>中获取</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fruit = <span class="title function_">prompt</span>(<span class="string">&quot;Which fruit to buy?&quot;</span>, <span class="string">&quot;apple&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> bag = &#123;</span><br><span class="line">  [fruit]: <span class="number">5</span>, <span class="comment">// 属性名是从 fruit 变量中得到的</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( bag.<span class="property">apple</span> ); <span class="comment">// 5 如果 fruit=&quot;apple&quot;</span></span><br></pre></td></tr></table></figure>

<p>方括号比点符号更强大。它允许任何属性名和变量</p>
<h3 id="属性值简写"><a href="#属性值简写" class="headerlink" title="属性值简写"></a>属性值简写</h3><p>属性名跟变量名一样</p>
<p>用 <code>name</code> 来代替 <code>name:name</code> </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">makeUser</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    name, <span class="comment">// 与 name: name 相同</span></span><br><span class="line">    age,  <span class="comment">// 与 age: age 相同</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>名为 <code>__proto__</code> 的属性。我们<strong>不能</strong>将它设置为一个<strong>非对象</strong>的值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">obj.<span class="property">__proto__</span> = <span class="number">5</span>; <span class="comment">// 分配一个数字</span></span><br><span class="line"><span class="title function_">alert</span>(obj.<span class="property">__proto__</span>); <span class="comment">// [object Object] — 值为对象，与预期结果不同</span></span><br></pre></td></tr></table></figure>

<h3 id="属性存在性测试，“in”-操作符"><a href="#属性存在性测试，“in”-操作符" class="headerlink" title="属性存在性测试，“in” 操作符"></a>属性存在性测试，“in” 操作符</h3><p>读取不存在的属性只会得到 <code>undefined</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;&#125;;	<span class="comment">//</span></span><br><span class="line"><span class="title function_">alert</span>( user.<span class="property">noSuchProperty</span> === <span class="literal">undefined</span> );	<span class="comment">//true 没有这个属性</span></span><br></pre></td></tr></table></figure>

<p>检查属性是否存在的操作符 <code>&quot;in&quot;</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&quot;key&quot; in object</span></span><br><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>, <span class="attr">age</span>: <span class="number">30</span> &#125;;</span><br><span class="line"><span class="title function_">alert</span>( <span class="string">&quot;age&quot;</span> <span class="keyword">in</span> user ); <span class="comment">// true，user.age 存在</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="string">&quot;blabla&quot;</span> <span class="keyword">in</span> user ); <span class="comment">// false，user.blabla 不存在。</span></span><br></pre></td></tr></table></figure>

<p><code>in</code> 的左边必须是 <strong>属性名</strong>—一个带引号的字符串</p>
<p>属性存在，但存储的值是 <code>undefined</code> 的时候</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">test</span>: <span class="literal">undefined</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( obj.<span class="property">test</span> ); <span class="comment">// 显示 undefined，所以属性不存在？</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( <span class="string">&quot;test&quot;</span> <span class="keyword">in</span> obj ); <span class="comment">// true，属性存在！</span></span><br></pre></td></tr></table></figure>

<h3 id="“for…in”-循环"><a href="#“for…in”-循环" class="headerlink" title="“for…in” 循环"></a>“for…in” 循环</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (key <span class="keyword">in</span> object) &#123;</span><br><span class="line">  <span class="comment">// 对此对象属性中的每个键执行的代码</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="attr">isAdmin</span>: <span class="literal">true</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> user) &#123;</span><br><span class="line">  <span class="comment">// keys in user</span></span><br><span class="line">  <span class="title function_">alert</span>( key );  <span class="comment">// name, age, isAdmin</span></span><br><span class="line">  <span class="comment">// 属性键的值</span></span><br><span class="line">  <span class="title function_">alert</span>( user[key] ); <span class="comment">// John, 30, true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以用其他属性名来替代 <code>key</code>—例如 <code>&quot;for(let prop in obj)&quot;</code> 也很常用</p>
<h3 id="像对象一样排序"><a href="#像对象一样排序" class="headerlink" title="像对象一样排序"></a>像对象一样排序</h3><p><strong>整数属性</strong>会被进行排序–其他属性则按照创建的顺序显示</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> codes = &#123;</span><br><span class="line">  <span class="string">&quot;49&quot;</span>: <span class="string">&quot;Germany&quot;</span>,</span><br><span class="line">  <span class="string">&quot;41&quot;</span>: <span class="string">&quot;Switzerland&quot;</span>,</span><br><span class="line">  <span class="string">&quot;44&quot;</span>: <span class="string">&quot;Great Britain&quot;</span>,</span><br><span class="line">  <span class="comment">// ..,</span></span><br><span class="line">  <span class="string">&quot;1&quot;</span>: <span class="string">&quot;USA&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> code <span class="keyword">in</span> codes) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(code); <span class="comment">// 1, 41, 44, 49</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//电话号码是整数 升序排列</span></span><br></pre></td></tr></table></figure>

<p>整数属性—整数进行<strong>相互转换</strong>的<strong>字符串</strong></p>
<p> Math.trunc 是内建的<strong>去除小数</strong>部分的方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Number(...) 显式转换为数字</span></span><br><span class="line"><span class="comment">// Math.trunc 是内建的去除小数部分的方法。</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="title class_">String</span>(<span class="title class_">Math</span>.<span class="title function_">trunc</span>(<span class="title class_">Number</span>(<span class="string">&quot;49&quot;</span>))) ); <span class="comment">// &quot;49&quot;，相同，整数属性</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="title class_">String</span>(<span class="title class_">Math</span>.<span class="title function_">trunc</span>(<span class="title class_">Number</span>(<span class="string">&quot;+49&quot;</span>))) ); <span class="comment">// &quot;49&quot;，不同于 &quot;+49&quot; ⇒ 不是整数属性</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="title class_">String</span>(<span class="title class_">Math</span>.<span class="title function_">trunc</span>(<span class="title class_">Number</span>(<span class="string">&quot;1.2&quot;</span>))) ); <span class="comment">// &quot;1&quot;，不同于 &quot;1.2&quot; ⇒ 不是整数属性</span></span><br></pre></td></tr></table></figure>

<p>属性名不是整数—按照创建时的顺序来排序</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">surname</span>: <span class="string">&quot;Smith&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line">user.<span class="property">age</span> = <span class="number">25</span>; <span class="comment">// 增加一个</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 非整数属性是按照创建的顺序来排列的</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> prop <span class="keyword">in</span> user) &#123;</span><br><span class="line">  <span class="title function_">alert</span>( prop ); <span class="comment">// name, surname, age</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为了解决电话号码—非整数属性名来 <strong>欺骗</strong> 程序—-键名加一个加号 <code>&quot;+&quot;</code> 前缀</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> codes = &#123;</span><br><span class="line">  <span class="string">&quot;+49&quot;</span>: <span class="string">&quot;Germany&quot;</span>,</span><br><span class="line">  <span class="string">&quot;+41&quot;</span>: <span class="string">&quot;Switzerland&quot;</span>,</span><br><span class="line">  <span class="string">&quot;+44&quot;</span>: <span class="string">&quot;Great Britain&quot;</span>,</span><br><span class="line">  <span class="comment">// ..,</span></span><br><span class="line">  <span class="string">&quot;+1&quot;</span>: <span class="string">&quot;USA&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> code <span class="keyword">in</span> codes) &#123;</span><br><span class="line">  <span class="title function_">alert</span>( +code ); <span class="comment">// 49, 41, 44, 1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//利用+将整数属性--非整数属性---可以按照创建顺序排列</span></span><br></pre></td></tr></table></figure>

<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>对象—特殊特性的关联数组</p>
<p>存储属性（键值对）：</p>
<ul>
<li>属性的键必须是<strong>字符串</strong>或者 symbol（通常是字符串）。</li>
<li>值可以是<strong>任何类型</strong></li>
</ul>
<p>方法访问属性：</p>
<ul>
<li>点符号: <code>obj.property</code></li>
<li>方括号 <code>obj[&quot;property&quot;]</code>，方括号允许从变量中获取键，例如 <code>obj[varWithKey]</code></li>
</ul>
<p>其他操作：</p>
<ul>
<li>删除属性：<code>delete obj.prop</code></li>
<li>检查<strong>是否存在</strong>给定<strong>键</strong>的属性：<code>&quot;key&quot; in obj</code></li>
<li>遍历对象：<code>for(let key in obj)</code> 循环</li>
</ul>
<p>JavaScript 中还有很多其他类型的对象：</p>
<ul>
<li><code>Array</code> 用于存储<strong>有序数据</strong>集合</li>
<li><code>Date</code> 用于存储<strong>时间</strong>日期</li>
<li><code>Error</code> 用于存储<strong>错误</strong>信息。</li>
</ul>
<h3 id="练习-2"><a href="#练习-2" class="headerlink" title="练习"></a>练习</h3><hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个空的对象 user</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;&#125;;</span><br><span class="line">user.<span class="property">name</span> = <span class="string">&#x27;John&#x27;</span>;</span><br><span class="line">user.<span class="property">surname</span> = <span class="string">&#x27;Smith&#x27;</span>;</span><br><span class="line">user.<span class="property">name</span> = <span class="string">&#x27;Pete&#x27;</span>;</span><br><span class="line"><span class="keyword">delete</span> user.<span class="property">name</span>;</span><br></pre></td></tr></table></figure>

<p>检查空对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 写一个 isEmpty(obj) 函数-- 检查空对象</span></span><br><span class="line"><span class="comment">// 当对象没有属性的时候返回 true，否则返回 false。</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">isEmpty</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">        <span class="comment">// 进入循环则--有属性</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>对象属性求和</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对象属性求和</span></span><br><span class="line"><span class="keyword">let</span> salaries = &#123;</span><br><span class="line">    <span class="title class_">John</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="title class_">Ann</span>: <span class="number">160</span>,</span><br><span class="line">    <span class="title class_">Pete</span>: <span class="number">130</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> salaries) &#123;</span><br><span class="line"><span class="comment">// 注意 遍历键的值 使用[key]</span></span><br><span class="line">    sum += salaries[key];</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum);</span><br></pre></td></tr></table></figure>

<p>将数值属性值都乘以 2</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将数值属性值都乘以 2</span></span><br><span class="line"><span class="comment">// 在调用之前</span></span><br><span class="line"><span class="keyword">let</span> menu = &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">200</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">300</span>,</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&quot;My menu&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">multiplyNumeric</span>(menu);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">multiplyNumeric</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> obj[key] == <span class="string">&#x27;number&#x27;</span>)&#123;</span><br><span class="line">            obj[key] *= <span class="number">2</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;   </span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(menu);</span><br></pre></td></tr></table></figure>

<h2 id="对象复制与引用"><a href="#对象复制与引用" class="headerlink" title="对象复制与引用"></a>对象复制与引用</h2><hr>
<p>对象–’引用’存储和复制    原始类型–作为一个整体复制</p>
<p><strong>赋值了对象的变量</strong>–<strong>存储的内存中的地址</strong>—<strong>对象的“引用”</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;John&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> admin = user; <span class="comment">// 复制引用</span></span><br><span class="line"><span class="comment">//两个变量，它们保存的都是对同一个对象的引用</span></span><br></pre></td></tr></table></figure>

<p>带有两把钥匙的柜子，使用其中一把钥匙<code>admin</code>一把钥匙<code>user</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> b = &#123;&#125;; <span class="comment">// 两个独立的对象</span></span><br><span class="line"><span class="title function_">alert</span>( a == b ); <span class="comment">// false</span></span><br><span class="line"><span class="comment">//本质2个空柜子</span></span><br></pre></td></tr></table></figure>

<h3 id="克隆与合并—Object-assign"><a href="#克隆与合并—Object-assign" class="headerlink" title="克隆与合并—Object.assign"></a>克隆与合并—Object.assign</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 克隆与合并，Object.assign</span></span><br><span class="line"><span class="comment">// 拷贝一个对象变量---本质对一个相同对象引用</span></span><br><span class="line"><span class="comment">// 独立的拷贝、克隆 1.创建一个新对象 2.遍历属性结构 3.在原始类型层面复制</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 1.创建一个新对象</span></span><br><span class="line"><span class="keyword">let</span> clone = &#123;&#125;;</span><br><span class="line"><span class="comment">// 2.遍历user 3.在原始层面复制</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> user)&#123;</span><br><span class="line">    clone[key] = user [key];</span><br><span class="line">&#125;</span><br><span class="line">clone.<span class="property">name</span> = <span class="string">&#x27;Pete&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(user.<span class="property">name</span>); <span class="comment">//John</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//也可以使用 Object.assign 方法</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(目标对象, [源对象, src2, src3...])</span><br><span class="line"><span class="comment">//合并多个对象</span></span><br><span class="line"><span class="comment">// Object.assign 方法来达成同样的效果</span></span><br><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;John&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> permissions1 = &#123; <span class="attr">canView</span>: <span class="literal">true</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> permissions2 = &#123; <span class="attr">canEdit</span>: <span class="literal">true</span> &#125;;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(user,permissions1,permissions2);</span><br></pre></td></tr></table></figure>

<h3 id="用-Object-assign-代替-for-in-循环来进行简单克隆"><a href="#用-Object-assign-代替-for-in-循环来进行简单克隆" class="headerlink" title="用 Object.assign 代替 for..in 循环来进行简单克隆"></a>用 Object.assign 代替 for..in 循环来进行简单克隆</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用 Object.assign 代替 for..in 循环来进行简单克隆</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 将user和&#123;&#125;合并 实现简单克隆 user中所有变量--复制到空对象中</span></span><br><span class="line"><span class="keyword">let</span> clone = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;,user);</span><br></pre></td></tr></table></figure>

<h3 id="深层克隆–对象属性中含有其他对象时"><a href="#深层克隆–对象属性中含有其他对象时" class="headerlink" title="深层克隆–对象属性中含有其他对象时"></a>深层克隆–对象属性中含有其他对象时</h3><p>所有属性均为原始类型—-简单克隆</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">sizes</span>: &#123;</span><br><span class="line">    <span class="attr">height</span>: <span class="number">182</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="number">50</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">alert</span>( user.<span class="property">sizes</span>.<span class="property">height</span> ); <span class="comment">// 182</span></span><br></pre></td></tr></table></figure>

<p>拷贝 <code>clone.sizes = user.sizes</code>不能达到预期— <code>user.sizes</code> 是个对象</p>
<p>1.应该使用一个拷贝循环来检查 <code>user[key]</code> 的每个值—是一个对象，那么也复制它的结构</p>
<p> lodash 库的 _.cloneDeep(obj)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objects = [&#123; <span class="string">&#x27;a&#x27;</span>: <span class="number">1</span> &#125;, &#123; <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span> &#125;];</span><br><span class="line"><span class="keyword">var</span> deep = _.<span class="title function_">cloneDeep</span>(objects);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(deep[<span class="number">0</span>] === objects[<span class="number">0</span>]);</span><br><span class="line"><span class="comment">// =&gt; false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//函数递归实现---深度克隆</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="attr">info</span>: &#123;</span><br><span class="line">    <span class="attr">desc</span>: <span class="string">&#x27;hi&#x27;</span>,  </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">color</span>:[<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;blue&#x27;</span>,<span class="string">&#x27;green&#x27;</span>]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> dest = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">deepClone (dest,user);</span><br><span class="line"><span class="comment">// 深层克隆</span></span><br><span class="line"><span class="comment">// user 的所有属性均为原始类型---属性可以是对其他对象的引用？</span></span><br><span class="line"><span class="comment">//深拷贝的实现方式---用 for in 递归实现深拷贝</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">newObj,oldObj</span>)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> oldObj)&#123;</span><br><span class="line">        <span class="comment">// 获取属性值</span></span><br><span class="line">        <span class="keyword">let</span> prop = oldObj[key];</span><br><span class="line">        <span class="keyword">if</span>(prop <span class="keyword">instanceof</span> <span class="title class_">Array</span>)&#123;</span><br><span class="line">            <span class="comment">// 判断这个值是否是数组</span></span><br><span class="line">            newObj[key] = [];</span><br><span class="line">            <span class="title function_">deepClone</span>(newObj[key],prop);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(prop <span class="keyword">instanceof</span> <span class="title class_">Object</span>)&#123;</span><br><span class="line">            <span class="comment">// 判断和这个是否是对象 </span></span><br><span class="line">            newObj[key] = &#123;&#125;;</span><br><span class="line">            <span class="title function_">deepClone</span>(newObj[key],prop);</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// 不是复杂类型--原始类型---直接赋值</span></span><br><span class="line">            newObj[key] = prop;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dest !== user); <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dest);</span><br></pre></td></tr></table></figure>

<h3 id="引用对对象进行存储的一个重要的副作用是"><a href="#引用对对象进行存储的一个重要的副作用是" class="headerlink" title="引用对对象进行存储的一个重要的副作用是"></a>引用对对象进行存储的一个重要的副作用是</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//const 的对象 可以 被修改</span></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">	<span class="attr">name</span>: <span class="string">&#x27;John&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line">user.<span class="property">name</span> = <span class="string">&#x27;peter&#x27;</span></span><br><span class="line"><span class="title function_">alert</span>(user.<span class="property">name</span>) <span class="comment">//peter</span></span><br></pre></td></tr></table></figure>

<h2 id="垃圾回收"><a href="#垃圾回收" class="headerlink" title="垃圾回收"></a>垃圾回收</h2><hr>
<p>JavaScript 的内存管理是自动的、无形的—<strong>可达性</strong></p>
<p> 垃圾回收器 的东西在后台执行—-删除掉那些已经不可达的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// user 具有对这个对象的引用</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line">user = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">// John 变成不可达</span></span><br></pre></td></tr></table></figure>

<p>两个引用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// user 具有对这个对象的引用</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> admin = user;</span><br><span class="line"></span><br><span class="line">user = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//对象仍然可以被通过 admin 这个全局变量访问到，所以对象还在内存中</span></span><br></pre></td></tr></table></figure>

<h3 id="内部算法"><a href="#内部算法" class="headerlink" title="内部算法"></a>内部算法</h3><p>垃圾回收的基本算法被称为 “mark-and-sweep”。</p>
<ul>
<li><p>垃圾收集器找到所有的根，并“标记”（记住）它们</p>
</li>
<li><p>遍历并“标记”来自它们的所有引用</p>
</li>
<li><p>没有被标记的对象都会被删除</p>
</li>
<li><p><strong>分代收集（Generational collection）</strong>—— 对象被分成两组</p>
</li>
<li><p><strong>增量收集（Incremental collection）</strong>—— 如果有许多对象，并且我们试图一次遍历并标记整个对象集</p>
</li>
<li><p><strong>闲时收集（Idle-time collection）</strong>—— 垃圾收集器只会在 CPU 空闲时尝试运行</p>
</li>
</ul>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><hr>
<ul>
<li>垃圾回收是<strong>自动完成</strong>的，我们不能强制执行或是阻止执行。</li>
<li>当对象是<strong>可达状态</strong>时，它一定是存在于<strong>内存</strong>中的。</li>
<li>被引用与可访问（从一个根）不同：一组相互连接的对象可能整体都<strong>不可达</strong>。</li>
</ul>
<h2 id="对象方法，”this”"><a href="#对象方法，”this”" class="headerlink" title="对象方法，”this”"></a>对象方法，”this”</h2><hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>对象方法（action）行为</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">user.<span class="property">sayHi</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">user.<span class="title function_">sayHi</span>(); <span class="comment">// Hello!</span></span><br></pre></td></tr></table></figure>

<p>作为对象属性的<strong>函数</strong>被称为 <strong>方法</strong>（特殊的action）对象里面的函数—方法</p>
<p>方法简写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这些对象作用一样</span></span><br><span class="line">user = &#123;</span><br><span class="line">  <span class="attr">sayHi</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法简写看起来更好，对吧？</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="title function_">sayHi</span>(<span class="params"></span>) &#123; <span class="comment">// 与 &quot;sayHi: function()&#123;...&#125;&quot; 一样</span></span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>可以省略 <code>&quot;function&quot;</code>，只写 <code>sayHi()</code>。</p>
<h3 id="方法中的-“this”"><a href="#方法中的-“this”" class="headerlink" title="方法中的 “this”"></a>方法中的 “this”</h3><p><strong>为了访问该对象，方法中可以使用 <code>this</code> 关键字。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line"></span><br><span class="line">  <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// &quot;this&quot; 指的是“当前的对象”</span></span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">user.<span class="title function_">sayHi</span>(); <span class="comment">// John</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//技术上讲，&#x27;user&#x27; 代替 &#x27;this&#x27;</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line"></span><br><span class="line">  <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(user.<span class="property">name</span>); <span class="comment">// &quot;user&quot; 替代 &quot;this&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//如果user 复制给另一个变量，例如 admin = user</span></span><br><span class="line"><span class="comment">//并赋另外的值给 user，那么它将访问到错误的对象</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line"></span><br><span class="line">  <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>( user.<span class="property">name</span> ); <span class="comment">// 导致错误</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> admin = user;</span><br><span class="line">user = <span class="literal">null</span>; <span class="comment">// 重写让其更明显</span></span><br><span class="line"></span><br><span class="line">admin.<span class="title function_">sayHi</span>(); <span class="comment">// TypeError: Cannot read property &#x27;name&#x27; of null</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="“this”-不受限制"><a href="#“this”-不受限制" class="headerlink" title="“this” 不受限制"></a>“this” 不受限制</h3><p><code>this</code> 可以用于任何函数，即使它不是对象的方法。</p>
<p><code>this</code> 的值是在代码运行时计算出来的</p>
<p>使用<strong>点符号</strong>或<strong>方括号语法</strong>都可以访问这个方法   </p>
<p><strong>在没有对象的情况下调用：</strong><code>this == undefined</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="variable language_">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">sayHi</span>(); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="箭头函数没有自己的-“this”"><a href="#箭头函数没有自己的-“this”" class="headerlink" title="箭头函数没有自己的 “this”"></a>箭头函数没有自己的 “this”</h3><p><code>this</code> 值取决于外部“正常的”函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;Ilya&quot;</span>,</span><br><span class="line">  <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="title function_">arrow</span> = (<span class="params"></span>) =&gt; <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">firstName</span>);</span><br><span class="line">    <span class="title function_">arrow</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">user.<span class="title function_">sayHi</span>(); <span class="comment">// Ilya</span></span><br></pre></td></tr></table></figure>

<p>总结</p>
<ul>
<li><p>存储在<strong>对象属性</strong>中的<strong>函数</strong>被称为“方法”。</p>
</li>
<li><p>方法允许对象进行像 <code>object.doSomething()</code> 这样的“操作”。</p>
</li>
<li><p>对象引用为 <code>this</code></p>
<p><code>this</code> 只有在函数被调用时才会有值</p>
</li>
</ul>
<p><code>object.method()</code>，调用函数 this—object</p>
<p>箭头函数–没有this—this的值从外部获取</p>
<h2 id="练习-3"><a href="#练习-3" class="headerlink" title="练习"></a>练习</h2><hr>
<h3 id="在对象字面量中使用-“this”"><a href="#在对象字面量中使用-“this”" class="headerlink" title="在对象字面量中使用 “this”"></a>在对象字面量中使用 “this”</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">makeUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="comment">//作为对象属性</span></span><br><span class="line">    <span class="attr">ref</span>: <span class="variable language_">this</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="title function_">makeUser</span>();</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( user.<span class="property">ref</span>.<span class="property">name</span> ); <span class="comment">// 结果是什么--undefined</span></span><br><span class="line"><span class="comment">// Error: Cannot read property &#x27;name&#x27; of undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">makeUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="comment">//作为对象方法 this指向对象</span></span><br><span class="line">     <span class="title function_">ref</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="title function_">makeUser</span>();</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( user.<span class="title function_">ref</span>().<span class="property">name</span> ); <span class="comment">// John</span></span><br></pre></td></tr></table></figure>

<p> <code>makeUser()</code> 中的 <code>this</code> 的值是 <code>undefined</code>–作为函数调用的—不是通过点符号被作为方法调用</p>
<h3 id="创建一个计算器"><a href="#创建一个计算器" class="headerlink" title="创建一个计算器"></a>创建一个计算器</h3><ul>
<li><code>read()</code> 提示输入两个值，并将其保存为对象属性，属性名分别为 <code>a</code> 和 <code>b</code>。</li>
<li><code>sum()</code> 返回保存的值的和。</li>
<li><code>mul()</code> 将保存的值相乘并返回计算结果。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一个有三个方法的 calculator 对象</span></span><br><span class="line"><span class="comment">//read() 提示输入两个值，并将其保存为对象属性，属性名分别为 `a` 和 `b`。</span></span><br><span class="line"><span class="comment">// sum() 返回保存的值的和。</span></span><br><span class="line"><span class="comment">//mul() 将保存的值相乘并返回计算结果。</span></span><br><span class="line"><span class="keyword">let</span> calculator = &#123;</span><br><span class="line">    <span class="title function_">read</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// this指向对象</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">a</span> = +<span class="title function_">prompt</span>(<span class="string">&#x27;a&#x27;</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">b</span> = +<span class="title function_">prompt</span>(<span class="string">&#x27;b&#x27;</span>,<span class="number">0</span>);   </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">sum</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">a</span> + <span class="variable language_">this</span>.<span class="property">b</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">mul</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">a</span> * <span class="variable language_">this</span>.<span class="property">b</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">calculator.<span class="title function_">read</span>();</span><br><span class="line"><span class="title function_">alert</span>( calculator.<span class="title function_">sum</span>() );</span><br><span class="line"><span class="title function_">alert</span>( calculator.<span class="title function_">mul</span>() );</span><br></pre></td></tr></table></figure>

<p>每行一个调用。对于长链接它更具可读性：</p>
<p><em>return this;</em> 开启链式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//作为对象方法 this指向对象</span></span><br><span class="line">     <span class="title function_">ref</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="title function_">alert</span>( user.<span class="title function_">ref</span>().<span class="property">name</span> ); <span class="comment">// John	</span></span><br><span class="line"><span class="comment">// 没有return则this =undefined</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//链式（调用）</span></span><br><span class="line"><span class="comment">//一个可以上下移动的 ladder 对象：</span></span><br><span class="line"><span class="keyword">let</span> ladder = &#123;</span><br><span class="line">    step : <span class="number">0</span>,</span><br><span class="line">    <span class="title function_">up</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">step</span>++;</span><br><span class="line">        <span class="comment">// 使用return this可以开启链式</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">down</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">step</span>--;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">showStep</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">step</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ladder.<span class="title function_">up</span>()</span><br><span class="line">.<span class="title function_">up</span>()</span><br><span class="line">.<span class="title function_">down</span>()</span><br><span class="line">.<span class="title function_">showStep</span>(); </span><br></pre></td></tr></table></figure>

<h2 id="构造器和操作符-“new”"><a href="#构造器和操作符-“new”" class="headerlink" title="构造器和操作符 “new”"></a>构造器和操作符 “new”</h2><hr>
<p> <code>&#123;...&#125;</code> 语法允许创建一个对象</p>
<p>创建类似对象</p>
<p>使用构造函数和 <code>&quot;new&quot;</code> 操作符来实现</p>
<h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><p>技术上是常规函数</p>
<ul>
<li>命名以<strong>大写字母</strong><u>开头</u></li>
<li>只能由 <code>&quot;new&quot;</code> 操作符来执行</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构造函数 首字母大写</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">User</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="comment">// this = &#123;&#125;;（隐式创建</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isAdmin</span> = <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">// return this;（隐式返回）</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#x27;new&#x27;操作符 执行 构造函数</span></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;Jack&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>调用 <code>new User(&quot;Ann&quot;)</code>，<code>new User(&quot;Alice&quot;)</code></p>
<p>任何函数（除了箭头函数，它没有自己的 <code>this</code>）都可以用作构造器</p>
<p>可以通过 <code>new</code> 来运行</p>
<p><strong>new function() { … }</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个函数并立即使用new调用它</span></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;John&#x27;</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isAdmin</span> = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//只是被创建和调用--不能被再次调用---没有保存</span></span><br></pre></td></tr></table></figure>

<h3 id="构造器的-return"><a href="#构造器的-return" class="headerlink" title="构造器的 return"></a>构造器的 return</h3><p>构造器没有 <code>return</code> 语句—所有必要的东西写入 <code>this</code></p>
<p> <code>return</code> 返回的是一个对象，则返回这个对象</p>
<p> <code>return</code> 返回的是一个原始类型，则忽略</p>
<p>带有对象的 <code>return</code> 返回该对象，在所有其他情况下返回 <code>this</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">BigUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;John&quot;</span>;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">name</span>: <span class="string">&quot;Godzilla&quot;</span> &#125;;  <span class="comment">// &lt;-- 返回这个对象</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( <span class="keyword">new</span> <span class="title class_">BigUser</span>().<span class="property">name</span> );  <span class="comment">// Godzilla，得到了那个对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//	一个return 为空的例子	之后放置一个原始类型，没有什么影响</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">SmallUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;John&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span>;     <span class="comment">//&lt;--  返回this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">alert</span>( <span class="keyword">new</span> <span class="title class_">SmallUser</span>().<span class="property">name</span> );  <span class="comment">// John</span></span><br></pre></td></tr></table></figure>

<p>没有参数，我们可以省略 <code>new</code> 后的括号：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> <span class="title class_">User</span>; <span class="comment">// &lt;-- 没有参数</span></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> <span class="title class_">User</span>();不被认为是一种“好风格</span><br></pre></td></tr></table></figure>

<h3 id="不仅可以将属性添加到-this-中，还可以添加方法"><a href="#不仅可以将属性添加到-this-中，还可以添加方法" class="headerlink" title="不仅可以将属性添加到 this 中，还可以添加方法"></a>不仅可以将属性添加到 <code>this</code> 中，还可以添加方法</h3><p> <code>new User(name)</code> 用给定的 <code>name</code> 和方法 <code>sayHi</code> 创建了一个对象：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义构造函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">User</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sayHi</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;My name is&#x27;</span>+<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//通过new来调用构造函数</span></span><br><span class="line"><span class="keyword">let</span> john = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;John&#x27;</span>);</span><br><span class="line">john.<span class="title function_">sayHi</span>();   <span class="comment">//My name is: John</span></span><br></pre></td></tr></table></figure>

<p>类 是用于创建复杂对象的一个更高级的语法</p>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><hr>
<p>构造函数，或简称构造器</p>
<p>命名首字母要大写</p>
<p>只能使用 <code>new</code> 来调用–开始时创建了空的 <code>this</code>–最后返回填充了值的 <code>this</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this = &#123;&#125;;（隐式创建</span></span><br><span class="line"><span class="comment">// return this;（隐式返回）</span></span><br></pre></td></tr></table></figure>

<p>日期 <code>Date</code>、集合 <code>Set</code>—内建的对象提供了构造函数</p>
<h3 id="练习-4"><a href="#练习-4" class="headerlink" title="练习"></a>练习</h3><hr>
<p>可以创建像 new A() &#x3D;&#x3D; new B() 这样的函数 A 和 B？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">A</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">B</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果一个函数返回一个对象---new 返回那个对象而不是 this</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> A;</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回相同的 外部定义的对象obj</span></span><br><span class="line"><span class="title function_">alert</span>( a == b ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>创建一个构造函数 <code>Calculator</code>，它创建的对象中有三个方法：</p>
<ul>
<li><code>read()</code> 使用 <code>prompt</code> 请求两个值并把它们记录在对象的属性中。</li>
<li><code>sum()</code> 返回这些属性的总和。</li>
<li><code>mul()</code> 返回这些属性的乘积。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建 new Calculator</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Calculator</span>(<span class="params"></span>)&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">read</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">a</span> = +<span class="title function_">prompt</span>(<span class="string">&#x27;a?&#x27;</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">b</span> = +<span class="title function_">prompt</span>(<span class="string">&#x27;b&#x27;</span>,<span class="number">0</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sum</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">a</span> + <span class="variable language_">this</span>.<span class="property">b</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">mul</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">a</span> * <span class="variable language_">this</span>.<span class="property">b</span></span><br><span class="line">   &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用new调用构造器Calculator 创建对象</span></span><br><span class="line"><span class="keyword">let</span> calculator = <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"><span class="comment">// 调用对象方法</span></span><br><span class="line">calculator.<span class="title function_">read</span>();</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;sum=&#x27;</span> + calculator.<span class="title function_">sum</span>());</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;mul=&#x27;</span>+calculator.<span class="title function_">mul</span>());</span><br></pre></td></tr></table></figure>

<p>创建一个构造函数 <code>Accumulator(startingValue)</code>。</p>
<p><code>value</code> 属性是所有用户输入值与初始值 <code>startingValue</code> 的总和。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建 new Accumulator</span></span><br><span class="line"><span class="comment">//创建一个构造函数 Accumulator(startingValue)。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Accumulator</span>(<span class="params">startingValue</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> = startingValue;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">read</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">value</span> += +<span class="title function_">prompt</span>(<span class="string">&#x27;a&#x27;</span>,<span class="number">0</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建实例</span></span><br><span class="line"><span class="keyword">let</span> accumulator = <span class="keyword">new</span> <span class="title class_">Accumulator</span>(<span class="number">2</span>);</span><br><span class="line">accumulator.<span class="title function_">read</span>(); <span class="comment">//</span></span><br><span class="line">accumulator.<span class="title function_">read</span>();  <span class="comment">//</span></span><br><span class="line"><span class="title function_">alert</span>(accumulator.<span class="property">value</span>);</span><br></pre></td></tr></table></figure>

<h2 id="可选链-“-”—最近添加到-JavaScript-的特性"><a href="#可选链-“-”—最近添加到-JavaScript-的特性" class="headerlink" title="可选链 “?.”—最近添加到 JavaScript 的特性"></a>可选链 “?.”—最近添加到 JavaScript 的特性</h2><hr>
<p>一种访问<strong>嵌套对象</strong><u>属性</u>—-中间的属性不存在，也不会出现错误</p>
<h3 id="空值合并运算符-‘-’"><a href="#空值合并运算符-‘-’" class="headerlink" title="空值合并运算符 ‘??’"></a>空值合并运算符 ‘??’</h3><p><code>a ?? b</code> ：</p>
<ul>
<li>如果 <code>a</code> 是已定义的，则结果为 <code>a</code>，</li>
<li>如果 <code>a</code> 不是已定义的，则结果为 <code>b</code></li>
</ul>
<p>如果第一个参数不是 <code>null/undefined</code>，则 <code>??</code> 返回第一个参数</p>
<p> <code>user</code> 的值不为 <code>null/undefined</code> 则显示 <code>user</code>，否则显示 <code>匿名</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user;</span><br><span class="line"><span class="title function_">alert</span>(user ?? <span class="string">&quot;匿名&quot;</span>); <span class="comment">// 匿名（user 未定义）</span></span><br></pre></td></tr></table></figure>

<p> <code>??</code> 序列选择出第一个非 <code>null/undefined</code> 的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> lastName = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> nickName = <span class="string">&quot;Supercoder&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显示第一个已定义的值：</span></span><br><span class="line"><span class="title function_">alert</span>(firstName ?? lastName ?? nickName ?? <span class="string">&quot;匿名&quot;</span>); <span class="comment">// Supercoder</span></span><br></pre></td></tr></table></figure>

<p>上面的代码中，我们可以用 <code>||</code> 替换掉 <code>??</code></p>
<p>它们之间重要的区别是：</p>
<ul>
<li><p><code>||</code> 返回第一个 <strong>真</strong> 值    </p>
<p>– 无法区分 <code>false</code>、<code>0</code>、空字符串 <code>&quot;&quot;</code> 和 <code>null/undefined</code></p>
</li>
<li><p><code>??</code> 返回第一个 <strong>已定义的</strong> 值</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> height = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(height || <span class="number">100</span>); <span class="comment">// 100</span></span><br><span class="line"><span class="title function_">alert</span>(height ?? <span class="number">100</span>); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<p>高度 <code>0</code> 通常是一个有效值，它不应该被替换为默认值</p>
<p><code>??</code> 运算符的优先级与 <code>||</code> 相同，它们的的优先级都为 <code>4</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> height = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> width = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用括号</span></span><br><span class="line"><span class="keyword">let</span> area = (height ?? <span class="number">100</span>)*(width ?? <span class="number">50</span>);</span><br><span class="line"><span class="title function_">alert</span>(area); </span><br></pre></td></tr></table></figure>

<p>省略了括号， <code>*</code> 的优先级比 <code>??</code> 高</p>
<p>JavaScript 禁止将 <code>??</code> 运算符与 <code>&amp;&amp;</code> 和 <code>||</code> 运算符一起</p>
<p>运算符 <code>??</code> 提供了一种从列表中选择<strong>第一个</strong>“<strong>已定义</strong>的”值的简便方式</p>
<h3 id="“不存在的属性”的问题"><a href="#“不存在的属性”的问题" class="headerlink" title="“不存在的属性”的问题"></a>“不存在的属性”的问题</h3><p>很多个 <code>user</code> 对象，其中存储了我们的用户数据</p>
<p>地址–<code>user.address</code>    街道地址—<code>user.address.street</code></p>
<p>有些用户没有提供这些信息—会收到一个错误：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(user.<span class="property">address</span>);	<span class="comment">// Undefined!</span></span><br><span class="line"><span class="title function_">alert</span>(user.<span class="property">address</span>.<span class="property">street</span>);	<span class="comment">//Error!</span></span><br></pre></td></tr></table></figure>

<p>如 <code>document.querySelector(&#39;.elem&#39;)</code>）没有这种对象，则返回 <code>null</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;&#125;;</span><br><span class="line"><span class="comment">// 访问该值属性之前	对值进行检查</span></span><br><span class="line"><span class="title function_">alert</span>(user.<span class="property">address</span> ? user.<span class="property">address</span>.<span class="property">street</span> : <span class="literal">undefined</span>);</span><br></pre></td></tr></table></figure>

<p>以相同的方式尝试获取 <code>user.address.street.name</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;&#125;; <span class="comment">// user 没有 address 属性</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(user.<span class="property">address</span> ? user.<span class="property">address</span>.<span class="property">street</span> ? user.<span class="property">address</span>.<span class="property">street</span>.<span class="property">name</span> : <span class="literal">null</span> : <span class="literal">null</span>);</span><br></pre></td></tr></table></figure>

<p>有一种更好的实现方式，就是使用 <code>&amp;&amp;</code> 运算符：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;&#125;; <span class="comment">// user 没有 address 属性</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( user.<span class="property">address</span> &amp;&amp; user.<span class="property">address</span>.<span class="property">street</span> &amp;&amp; user.<span class="property">address</span>.<span class="property">street</span>.<span class="property">name</span> ); <span class="comment">// undefined（不报错）</span></span><br></pre></td></tr></table></figure>

<p>上面的代码中，<code>user.address</code> 被重复写了三遍。</p>
<p>可选链 <code>?.</code> 被加入到了 JavaScript </p>
<p>可选链 <code>?.</code> 前面的值为 <code>undefined</code> 或者 <code>null</code>–停止运算—返回<code>undefined</code></p>
<p><strong>一个属性既不是 <code>null</code> 也不是 <code>undefined</code>，那么它就“存在”。</strong></p>
<p><code>value?.prop</code>：</p>
<p>value 存在 — 结果为 <code>value.prop</code></p>
<p>value(undefined&#x2F;null) — 返回<code>undefined</code> 停止了运算 而不是返回error</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;&#125;; <span class="comment">// user 没有 address 属性</span></span><br><span class="line"><span class="title function_">alert</span>( user?.<span class="property">address</span>?.<span class="property">street</span> ); <span class="comment">// undefined（不报错）</span></span><br></pre></td></tr></table></figure>

<p><code>?.</code> 允许 <code>user</code> 为 <code>null/undefined</code>（在这种情况下会返回 <code>undefined</code>）也不会报错</p>
<p>如果<code>user</code> 对象必须存在，但 <code>address</code> 是可选的，那么我们应该这样写 <code>user.address?.street</code>，</p>
<p><code>?.</code> 前的变量必须已声明–可选链仅适用于已声明的变量</p>
<p>未声明变量 <code>user</code>，那么 <code>user?.anything</code> 会触发错误</p>
<h3 id="短路效应"><a href="#短路效应" class="headerlink" title="短路效应"></a>短路效应</h3><p>如果 <code>?.</code> 左边部分不存在，就会立即停止运算–“短路效应”</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//user -- null 返回undefined并停止后续运算</span></span><br><span class="line">user?.<span class="title function_">sayHi</span>(x++)	</span><br><span class="line"><span class="comment">//x=0</span></span><br></pre></td></tr></table></figure>

<p>可选链 <code>?.</code> 不是一个运算符–一个特殊的语法结构</p>
<p>存在其他变体    <code>?.()</code> <code>?.[]</code></p>
<p><code>?.()</code> 可用于调用 – 一个<strong>可能不存在</strong>的函数</p>
<p>有些用户具有 <code>admin</code> 方法，而有些没有</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userAdmin = &#123;</span><br><span class="line">  <span class="title function_">admin</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;I am admin&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> userGuest = &#123;&#125;;</span><br><span class="line">userAdmin.<span class="property">admin</span>?.(); <span class="comment">// I am admin</span></span><br><span class="line">userGuest.<span class="property">admin</span>?.(); <span class="comment">// 啥都没发生（没有这样的方法）</span></span><br></pre></td></tr></table></figure>

<p> <code>?.()</code> 会检查它左边的部分，否则（对于 <code>userGuest</code>）运算停止，没有报错。</p>
<p>语法 <code>?.[]</code> 也可以使一个可能不存在的<strong>对象</strong>上安全地读取属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> key = <span class="string">&quot;firstName&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user1 = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;John&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user2 = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( user1?.[key] ); <span class="comment">// John</span></span><br><span class="line"><span class="title function_">alert</span>( user2?.[key] ); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p><code>?.</code> 跟 <code>delete</code> 一起使用：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> user?.<span class="property">name</span>; <span class="comment">// 如果 user 存在，则删除 user.name</span></span><br></pre></td></tr></table></figure>

<p>可选链 <code>?.</code> 不能用在赋值语句的左侧</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = <span class="literal">null</span>;</span><br><span class="line">user?.<span class="property">name</span> = <span class="string">&quot;John&quot;</span>; <span class="comment">// Error，不起作用</span></span><br><span class="line"><span class="comment">// 因为它在计算的是：undefined = &quot;John&quot;</span></span><br></pre></td></tr></table></figure>

<p>可选链 <code>?.</code> 语法有三种形式：</p>
<p><code>obj?.prop</code> —— 如果 <code>obj</code> 存在—返回 <code>obj.prop</code>—-否则在返回 <code>undefined</code></p>
<p><code>obj?.[prop]</code> —— 如果 <code>obj</code> 存在则返回 <code>obj[prop]</code>，否则返回 <code>undefined</code>。</p>
<p><code>obj.method?.()</code> —— 如果 <code>obj.method</code> 存在则<strong>调用</strong> <code>obj.method()</code>，否则返回 <code>undefined</code>。</p>
<p><code>?.</code> 检查左边部分是否为 <code>null/undefined</code></p>
<p><code>?.</code> 链使我们能够<strong>安全地</strong>访问<strong>嵌套属性</strong>。</p>
<h1 id="symbol-类型"><a href="#symbol-类型" class="headerlink" title="symbol 类型"></a>symbol 类型</h1><p>只有<strong>两种原始类型</strong>可以用作<strong>对象属性键</strong>：</p>
<ul>
<li>字符串类型</li>
<li>symbol 类型</li>
</ul>
<p>数字等其他类型，它会被自动转换为字符串</p>
<p> <code>obj[1]</code> 与 <code>obj[&quot;1&quot;]</code> 相同    而 <code>obj[true]</code> 与 <code>obj[&quot;true&quot;]</code> 相同</p>
<p>symbol之前我们只有使用字符串</p>
<h2 id="symbol"><a href="#symbol" class="headerlink" title="symbol"></a>symbol</h2><p>“symbol” 值表示<strong>唯一</strong>的<strong>标识符</strong>。</p>
<p>用 <code>Symbol()</code> 来创建这种类型的值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id = <span class="title class_">Symbol</span>();</span><br></pre></td></tr></table></figure>

<p>可以给 symbol 一个描述（symbol名）– 用于代码调试</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id  = <span class="title class_">Symbol</span>(<span class="string">&#x27;id&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>symbol 保证是<strong>唯一</strong></p>
<p>有<strong>相同</strong>描述的 symbol，它们的值也是<strong>不同</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id1 = <span class="title class_">Symbol</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> id2 = <span class="title class_">Symbol</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line"><span class="title function_">alert</span>(id1 == id2);	<span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<p>带有可选描述–’id’    “原始唯一值”</p>
<p>可以 <code>alert</code> 任何值，都可以生效 – symbol 比较特殊 — 不会被自动转换</p>
<p> <code>alert</code> 将会提示出错：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id = <span class="title class_">Symbol</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line"><span class="title function_">alert</span>(id);	<span class="comment">//类型错误 symbol 无法转换为 字符串</span></span><br></pre></td></tr></table></figure>

<p>想显示一个 symbol – 调用 <code>.toString()</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id = <span class="title class_">Symbol</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line"><span class="title function_">alert</span>(id.<span class="title function_">toString</span>()); <span class="comment">// Symbol(id)，现在它有效了</span></span><br></pre></td></tr></table></figure>

<p>获取 <code>symbol.description</code> 属性 – 显示描述（description）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id = <span class="title class_">Symbol</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line"><span class="title function_">alert</span>(id.<span class="property">description</span>); <span class="comment">// id</span></span><br></pre></td></tr></table></figure>

<h3 id="“隐藏”属性"><a href="#“隐藏”属性" class="headerlink" title="“隐藏”属性"></a>“隐藏”属性</h3><p>symbol – 创建对象的“隐藏”属性 — 不能意外<strong>访问</strong>或<strong>重写</strong>这些属性</p>
<p>属于第三方代码的 <code>user</code> 对象 – 使用symbol 添加一些<strong>标识符</strong></p>
<p>使用 symbol 键：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;	<span class="comment">// 属于另一个代码</span></span><br><span class="line">	<span class="attr">name</span>: <span class="string">&#x27;John&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> id = <span class="title class_">Symbol</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">user[id] = <span class="number">1</span>;	<span class="comment">//设置隐藏属性</span></span><br><span class="line"><span class="title function_">alert</span>( user[id] ); <span class="comment">// 我们可以使用 symbol 作为键来访问数据</span></span><br></pre></td></tr></table></figure>

<p>用 <code>Symbol(&quot;id&quot;)</code> 作为键—字符串 <code>&quot;id&quot;</code> </p>
<p> symbol 总是不同的，即使它们有相同的名字</p>
<h3 id="第二种创建方法–对象字面量中的-symbol"><a href="#第二种创建方法–对象字面量中的-symbol" class="headerlink" title="第二种创建方法–对象字面量中的 symbol"></a>第二种创建方法–对象字面量中的 symbol</h3><p>字面量 <code>&#123;...&#125;</code> 中使用 symbol—-方括号</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id = <span class="title class_">Symbol</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  [id]: <span class="number">123</span> <span class="comment">// 而不是 &quot;id&quot;：123</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>symbol 属性不参与 <code>for..in</code> 循环</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id = <span class="title class_">Symbol</span>(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;john&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">    [id]: <span class="number">123</span> </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> user)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(key)  <span class="comment">//name age</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 使用symbol 直接访问</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;Direct:&#x27;</span> + user[id] );</span><br></pre></td></tr></table></figure>

<p>“隐藏符号属性”–另一个脚本或库遍历我们的对象，它不会意外地访问到<strong>符号</strong>属性。</p>
<p>Object.assign 会同时复制字符串和 symbol 属性：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Object.assign 会同时复制字符串和 symbol 属性：</span></span><br><span class="line"><span class="keyword">let</span> id = <span class="title class_">Symbol</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    [id]: <span class="number">123</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> clone = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, user);</span><br><span class="line"><span class="title function_">alert</span>(clone[id]);   <span class="comment">//123</span></span><br></pre></td></tr></table></figure>

<h3 id="全局-symbol"><a href="#全局-symbol" class="headerlink" title="全局 symbol"></a>全局 symbol</h3><p><strong>全局 symbol 注册表</strong>–创建 symbol 并在稍后访问它们</p>
<p>确保每次访问相同名字的 symbol 时，返回的都是相同的 symbol</p>
<p>注册表中读取（不存在则创建）symbol，使用 <code>Symbol.for(key)</code></p>
<p>有一个描述为 <code>key</code> 的 symbol，则返回该 symbol</p>
<p>否则将创建一个新 symbol</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从全局注册中读取</span></span><br><span class="line"><span class="keyword">let</span> id = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&#x27;id&#x27;</span>);  <span class="comment">// symbol 不存在 则创建它</span></span><br><span class="line"><span class="comment">// 再次读取</span></span><br><span class="line"><span class="keyword">let</span> idAgain = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line"><span class="comment">// 相同的symbol</span></span><br><span class="line"><span class="title function_">alert</span>(id == idAgain);    <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>注册表内的 symbol 被称为 <strong>全局 symbol</strong>，代码随处访问</p>
<p><strong>全局 symbol</strong>为前提</p>
<p><code>Symbol.for(key)</code> 按名字返回一个 symbol</p>
<p>反向调用：<code>Symbol.keyFor(sym)</code>    全局 symbol 返回一个名字</p>
<p>symbol 不是全局的，它将无法找到它并返回 <code>undefined</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sym = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> sym2 = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过symbol   返回name(desciption)</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="title class_">Symbol</span>.<span class="title function_">keyFor</span>(sym));  <span class="comment">//name</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="title class_">Symbol</span>.<span class="title function_">keyFor</span>(sym2)); <span class="comment">//id</span></span><br></pre></td></tr></table></figure>

<p>任何 symbol 都具有 <code>description</code> 属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过Symbol.for()创建全局变量</span></span><br><span class="line"><span class="keyword">let</span> globalSymbol = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> localSymbol = <span class="title class_">Symbol</span>(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( <span class="title class_">Symbol</span>.<span class="title function_">keyFor</span>(globalSymbol) ); <span class="comment">// name，全局 symbol</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="title class_">Symbol</span>.<span class="title function_">keyFor</span>(localSymbol) ); <span class="comment">// undefined，非全局</span></span><br><span class="line"><span class="title function_">alert</span>( localSymbol.<span class="property">description</span> ); <span class="comment">// name</span></span><br></pre></td></tr></table></figure>

<p>系统 symbol</p>
<ul>
<li><code>Symbol.hasInstance</code></li>
<li><code>Symbol.isConcatSpreadable</code></li>
<li><code>Symbol.iterator</code></li>
<li><code>Symbol.toPrimitive</code></li>
</ul>
<p><code>Symbol.toPrimitive</code> 允许我们将对象描述为<strong>原始值转换</strong></p>
<h3 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h3><p><code>symbol</code> 是唯一标识符的基本类型</p>
<p>symbol 是使用带有<strong>可选描述</strong>（name）的 <code>Symbol()</code> 调用创建的</p>
<p>希望同名的 symbol 相等，那么我们应该使用全局注册表：</p>
<p><code>Symbol.for(key)</code> 返回</p>
<p>symbol 有两个主要的使用场景：</p>
<p>1.“隐藏” 对象属性– symbol 属性不会出现在 <code>for..in</code> 中</p>
<p> symbol 属性“秘密地”将一些东西隐藏到我们需要的对象中</p>
<p>2.JavaScript 使用了许多系统 symbol，这些 symbol 可以作为 <code>Symbol.*</code> 访问</p>
<p>使用 <code>Symbol.iterator</code> 来进行 <a target="_blank" rel="noopener" href="https://zh.javascript.info/iterable">迭代</a> 操作</p>
<p>使用 <code>Symbol.toPrimitive</code> 来设置 <a target="_blank" rel="noopener" href="https://zh.javascript.info/object-toprimitive">对象原始值的转换</a> </p>
<p>补充：</p>
<p>内建方法 Object.<u>getOwnProperty</u>Symbols(obj) – 允许我们获取<strong>所有</strong>的 symbol</p>
<p> <u>Reflect</u>.ownKeys(obj) 的方法可以返回一个对象的所有键 –包括 symbol</p>
<h1 id="对象-—-原始值转换"><a href="#对象-—-原始值转换" class="headerlink" title="对象 — 原始值转换"></a>对象 — 原始值转换</h1><p>对象相加 <code>obj1 + obj2</code>，相减 <code>obj1 - obj2</code> &#x3D;  使用 <code>alert(obj)</code> 打印 ？</p>
<p>对象会被自动转换为<strong>原始值</strong> – <strong>原始值</strong>进行运算 — 运算结果（原始值）</p>
<p>对象是如何转换为原始值的：</p>
<p>也有例外    日期相减或比较（<code>Date</code> 对象）</p>
<h3 id="转换规则"><a href="#转换规则" class="headerlink" title="转换规则"></a>转换规则</h3><p>所有的对象在<strong>布尔</strong>上下文（context）中均为 <code>true</code></p>
<p>只有字符串和数字转换：</p>
<p>1.数字转换发生在对象相减或应用数学函数-<code>Date</code> 对象</p>
<p>—<code>date1 - date2</code> —是两个日期之间的差值。</p>
<p>2.字符串转换 <code>alert(obj)</code> 这样输出一个对象和类似的上下文中</p>
<h3 id="hint-–-类型转换在各种情况下有三种变体"><a href="#hint-–-类型转换在各种情况下有三种变体" class="headerlink" title="hint – 类型转换在各种情况下有三种变体"></a>hint – 类型转换在各种情况下有三种<strong>变体</strong></h3><p>如何决定应用哪种转换的？</p>
<p><code>&quot;string&quot;</code>–对象到字符串的转换—字符串的对象执行操作</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="title function_">alert</span>(obj);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将对象作为属性键</span></span><br><span class="line">anotherObj[obj] = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>

<p> <strong>“number”</strong> – 对象到数字的转换</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 显式转换</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="title class_">Number</span>(obj);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数学运算（除了二元加法）</span></span><br><span class="line"><span class="keyword">let</span> n = +obj; <span class="comment">// 一元加法</span></span><br><span class="line"><span class="keyword">let</span> delta = date1 - date2;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 小于/大于的比较</span></span><br><span class="line"><span class="keyword">let</span> greater = user1 &gt; user2;</span><br></pre></td></tr></table></figure>

<p>内建的数学函数也包括这种转换</p>
<p><strong>“default”</strong> – 运算符“<strong>不确定</strong>”期望值的类型</p>
<p>二元加法得到对象类型的参数 — 依据 <code>&quot;default&quot;</code> hint 来对其进行转换</p>
<p>进行 <code>==</code> 比较    – 哪种转换也不是很明确 – <code>&quot;default&quot;</code> hint</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 二元加法使用默认 hint</span></span><br><span class="line"><span class="keyword">let</span> total = obj1 + obj2;</span><br><span class="line"></span><br><span class="line"><span class="comment">// obj == number 使用默认 hint</span></span><br><span class="line"><span class="keyword">if</span> (user == <span class="number">1</span>) &#123; ... &#125;;</span><br></pre></td></tr></table></figure>

<p><strong>进行转换，JavaScript 尝试查找并调用三个对象方法：</strong></p>
<p>调用 <code>obj[Symbol.toPrimitive](hint)</code></p>
<p> hint 是 <code>&quot;string&quot;</code> —— 尝试调用 <code>obj.toString()</code> 或 <code>obj.valueOf()</code></p>
<p> hint 是 <code>&quot;number&quot;</code> 或 <code>&quot;default&quot;</code>–尝试调用 <code>obj.valueOf()</code> 或 <code>obj.toString()</code></p>
<p>名为 <code>Symbol.toPrimitive</code> 的内建 symbol—-用来给转换方法命名</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;xu&quot;</span>,</span><br><span class="line">    <span class="attr">money</span>: <span class="number">1000</span>,</span><br><span class="line"></span><br><span class="line">    [<span class="title class_">Symbol</span>.<span class="property">toPrimitive</span>](hint)&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">`hint: <span class="subst">$&#123;hint&#125;</span>`</span>);</span><br><span class="line">        <span class="keyword">return</span> hint == <span class="string">&quot;String&quot;</span> ? <span class="string">`&#123;name: &quot;<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>&quot;&#125;`</span> : <span class="variable language_">this</span>.<span class="property">money</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 转换演示:</span></span><br><span class="line"><span class="title function_">alert</span>(user);    <span class="comment">// hint: string -&gt; &#123;name: &quot;John&quot;&#125;</span></span><br><span class="line"><span class="title function_">alert</span>(+user);   <span class="comment">// hint: number -&gt; 1000</span></span><br><span class="line"><span class="title function_">alert</span>(user + <span class="number">500</span>); <span class="comment">//hint: default -&gt; 1500</span></span><br></pre></td></tr></table></figure>

<h3 id="toString-x2F-valueOf"><a href="#toString-x2F-valueOf" class="headerlink" title="toString&#x2F;valueOf"></a>toString&#x2F;valueOf</h3><p>没有 <code>Symbol.toPrimitive</code>–寻找 <code>toString</code> 和 <code>valueOf</code> 方法：</p>
<p><code>&quot;string&quot;</code> hint：调用 <code>toString</code> 方法，如果它不存在，则调用 <code>valueOf</code> 方法</p>
<p>字符串转换–优先调用<code>toString</code></p>
<p><code>其他</code>hint：调用<code>valueOf</code>方法–不存在—调用<code>toString</code>    </p>
<p>数学运算–优先调用<code>valueOf</code></p>
<p>默认情况下，普通对象具有 <code>toString</code> 和 <code>valueOf</code> 方法：</p>
<ul>
<li><code>toString</code> 方法返回一个字符串 <code>&quot;[object Object]&quot;</code>。</li>
<li><code>valueOf</code> 方法返回对象自身。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">let</span> user = &#123;<span class="attr">name</span>: <span class="string">&quot;John&quot;</span>&#125;;</span><br><span class="line">	<span class="title function_">alert</span>(user); <span class="comment">// [object Object]</span></span><br><span class="line">	<span class="title function_">alert</span>(user.<span class="title function_">valueOf</span>() === user); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>实现一下这些方法来自定义转换</p>
<p>使用 <code>toString</code> 和 <code>valueOf</code> 的组合（而不是 <code>Symbol.toPrimitive</code>）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;xu&#x27;</span>,</span><br><span class="line">    <span class="attr">money</span>: <span class="number">1000</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// hint = &quot;string&quot;</span></span><br><span class="line">    <span class="title function_">toString</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`&#123;name: &quot;<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>&quot;&#125;`</span>;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// hint = number 或 default</span></span><br><span class="line">    <span class="title function_">valueOf</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">money</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(user);    <span class="comment">//toString -&gt; &#123;name:&#x27;John&#x27;&#125;</span></span><br><span class="line"><span class="title function_">alert</span>(+user);   <span class="comment">//valueOf -&gt; 1000</span></span><br><span class="line"><span class="title function_">alert</span>(user + <span class="number">500</span>); <span class="comment">//valueOf -&gt; 1500</span></span><br></pre></td></tr></table></figure>

<p>唯一强制性的事情是：这些方法必须返回一个原始值，而不是对象。</p>
<p><code>Symbol.toPrimitive</code> 更严格，它 <strong>必须</strong> 返回一个原始值，否则就会出现 error</p>
<p>对象作为参数传递，则会出现两个运算阶段：</p>
<ol>
<li>对象被转换为原始值（通过前面我们描述的规则）。</li>
<li>如果还需要进一步计算，则生成的原始值会被进一步转换。</li>
</ol>
<p>实际使用中，通常只实现 <code>obj.toString()</code> 作为字符串转换的“全能”方法就足够了，用于日志记录或调试</p>
<h1 id="原始类型的方法"><a href="#原始类型的方法" class="headerlink" title="原始类型的方法"></a>原始类型的方法</h1><p>可以把一个函数作为对象的属性存储到对象中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> john = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">sayHi</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;Hi buddy!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">john.<span class="title function_">sayHi</span>(); <span class="comment">// Hi buddy!</span></span><br></pre></td></tr></table></figure>

<p>除 <code>null</code> 和 <code>undefined</code> 以外的原始类型都提供了许多有用的方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let str = &quot;Hello&quot;;</span><br><span class="line"></span><br><span class="line">str.test = 5; // (*) 在严格模式下，向其写入内容会报错。</span><br><span class="line"></span><br><span class="line">alert(str.test);// “对象包装器”将消失，因此在最后一行，str 并没有该属性的踪迹。</span><br></pre></td></tr></table></figure>

<p><strong>原始类型不是对象。</strong></p>
<p>它们不能存储额外的数据。</p>
<h1 id="数字类型"><a href="#数字类型" class="headerlink" title="数字类型"></a>数字类型</h1><p>常规数字以 64 位的格式—“双精度浮点数”    常规数字不能安全地超过 <code>253</code> 或小于 <code>-253</code></p>
<p>BigInt 数字 – 任意长度的整数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> billion = <span class="number">1000000000</span>;</span><br><span class="line"><span class="keyword">let</span> billion1 = <span class="number">1_000_000_000</span>;   <span class="comment">//_语法糖 数字可读性 引擎会自动忽略</span></span><br></pre></td></tr></table></figure>

<p>10 亿写成 <code>&quot;1bn&quot;</code>，或将 73 亿写成 <code>&quot;7.3bn</code></p>
<p>数字后面附加字母 <code>&quot;e&quot;</code> 并指定零的个数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let billion = 1e9;	//10^9</span><br><span class="line">alert(7.3e9)	// 73 亿写成 `&quot;7.3bn`</span><br><span class="line">let mcs = 1e-6; // 1 的左边有 6 个 0</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Hexadecimal">十六进制</a> 数字在 JavaScript 中被广泛用于表示颜色，编码字符以及其他许多东西</p>
<p><code>0x</code>，然后是数字。数字可以是 <code>0..9</code> 或 <code>A..F</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>( <span class="number">0xff</span> ); <span class="comment">// 255</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="number">0xFF</span> ); <span class="comment">// 255（一样，大小写没影响）</span></span><br></pre></td></tr></table></figure>

<p>二进制和八进制数字系统很少使用， <code>0b</code> 和 <code>0o</code> 前缀：</p>
<p>方法 <code>num.toString(base)</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//base 表示进制 2-36  默认是10</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">255</span>;</span><br><span class="line"><span class="title function_">alert</span>(num.<span class="title function_">toString</span>(<span class="number">16</span>)); <span class="comment">// ff  </span></span><br><span class="line"><span class="title function_">alert</span>(num.<span class="title function_">toString</span>(<span class="number">2</span>)); <span class="comment">//1111111</span></span><br></pre></td></tr></table></figure>

<p>直接在一个数字上调用一个方法<code>123456..toString(36)</code> </p>
<p>可以写成 <code>(123456).toString(36)</code>。</p>
<h3 id="舍入"><a href="#舍入" class="headerlink" title="舍入"></a>舍入</h3><p>舍入（rounding）是使用数字时最常用的操作之一。</p>
<p><strong>Math.floor</strong></p>
<p>向下舍入：<code>3.1</code> 变成 <code>3</code>，<code>-1.1</code> 变成 <code>-2</code></p>
<p><strong>Math.ceil</strong></p>
<p>向上舍入：  <code>3.1</code> 变成 <code>4</code>，<code>-1.1</code> 变成 <code>-1</code></p>
<p><strong>Math.round</strong></p>
<p>最近的整数舍入 四舍五入</p>
<p>有 <code>1.2345</code>，—仅得到 <code>1.23</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">1.23456</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( <span class="title class_">Math</span>.<span class="title function_">round</span>(num * <span class="number">100</span>) / <span class="number">100</span> ); </span><br><span class="line"><span class="comment">// 1.23456 -&gt; 123.456 -&gt; 123 -&gt; 1.23</span></span><br></pre></td></tr></table></figure>

<p>函数 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed">toFixed(n)</a> 将数字舍入到小数点后 <code>n</code> 位，并以<strong>字符串形式</strong>返回结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">12.34</span>;</span><br><span class="line"><span class="title function_">alert</span>( num.<span class="title function_">toFixed</span>(<span class="number">1</span>) ); <span class="comment">// &quot;12.3&quot;</span></span><br></pre></td></tr></table></figure>

<p>会自动加0</p>
<h3 id="不精确的计算"><a href="#不精确的计算" class="headerlink" title="不精确的计算"></a>不精确的计算</h3><p>一个数字真的很大，则可能会溢出 64 位存储，变成一个特殊的数值 <code>Infinity</code>：</p>
<p>最可靠的方法是借助方法 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed">toFixed(n)</a> 对结果进行舍入：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>( <span class="number">0.1</span> + <span class="number">0.2</span> == <span class="number">0.3</span> ); <span class="comment">// false</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="number">0.1</span> + <span class="number">0.2</span> ); <span class="comment">// 0.30000000000000004</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sum = <span class="number">0.1</span> + <span class="number">0.2</span>;</span><br><span class="line"><span class="title function_">alert</span>( sum.<span class="title function_">toFixed</span>(<span class="number">2</span>) ); <span class="comment">// 0.30</span></span><br></pre></td></tr></table></figure>

<p>两个特殊的数值</p>
<ul>
<li><code>Infinity</code>（和 <code>-Infinity</code>）是一个特殊的数值，比任何数值都大（小）。</li>
<li><code>NaN</code> 代表一个 error。</li>
</ul>
<p>包括 <code>isFinite</code>，空字符串或仅有空格的字符串均被视为 <code>0</code>。</p>
<h3 id="parseInt-和-parseFloat"><a href="#parseInt-和-parseFloat" class="headerlink" title="parseInt 和 parseFloat"></a>parseInt 和 parseFloat</h3><p>从字符串中“读取”数字，直到无法读取为止</p>
<p>函数 <code>parseInt</code> 返回一个整数，而 <code>parseFloat</code> 返回一个浮点数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>( +<span class="string">&quot;100px&quot;</span> ); <span class="comment">// NaN</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="built_in">parseInt</span>(<span class="string">&#x27;100px&#x27;</span>) ); <span class="comment">// 100</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="built_in">parseFloat</span>(<span class="string">&#x27;12.5em&#x27;</span>) ); <span class="comment">// 12.5</span></span><br><span class="line"><span class="comment">//	parseInt/parseFloat 会返回 NaN </span></span><br><span class="line"><span class="title function_">alert</span>( <span class="built_in">parseInt</span>(<span class="string">&#x27;a123&#x27;</span>) ); <span class="comment">// NaN，第一个符号停止了读取</span></span><br></pre></td></tr></table></figure>

<p><code>parseInt()</code> 函数具有可选的第二个参数。它指定了数字系统的基数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>( <span class="built_in">parseInt</span>(<span class="string">&#x27;0xff&#x27;</span>, <span class="number">16</span>) ); <span class="comment">// 255</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="built_in">parseInt</span>(<span class="string">&#x27;ff&#x27;</span>, <span class="number">16</span>) ); <span class="comment">// 255，没有 0x 仍然有效</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="built_in">parseInt</span>(<span class="string">&#x27;2n9c&#x27;</span>, <span class="number">36</span>) ); <span class="comment">// 123456</span></span><br></pre></td></tr></table></figure>

<h2 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h2><hr>
<p>来自访问者的数字的总和</p>
<p>重要程度: 5</p>
<p>创建一个脚本，提示访问者输入两个数字，然后显示它们的总和。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1= + <span class="title function_">prompt</span>(<span class="string">&#x27;input the 1th number&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> num2= + <span class="title function_">prompt</span>(<span class="string">&#x27;input the 2th number&#x27;</span>)</span><br><span class="line"><span class="title function_">alert</span>(num1+num2);</span><br></pre></td></tr></table></figure>

<h2 id="为什么-6-35-toFixed-1-x3D-x3D-6-3？"><a href="#为什么-6-35-toFixed-1-x3D-x3D-6-3？" class="headerlink" title="为什么 6.35.toFixed(1) &#x3D;&#x3D; 6.3？"></a>为什么 6.35.toFixed(1) &#x3D;&#x3D; 6.3？</h2><p>重要程度: 4</p>
<p><strong>如何解决 <code>6.35</code> 的舍入问题呢</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>( (<span class="number">6.35</span> * <span class="number">10</span>).<span class="title function_">toFixed</span>(<span class="number">20</span>) ); <span class="comment">// 63.50000000000000000000</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="number">6.35</span> * <span class="number">10</span>) / <span class="number">10</span>); <span class="comment">// 6.35 -&gt; 63.5 -&gt; 64(rounded) -&gt; 6.4</span></span><br></pre></td></tr></table></figure>

<h3 id="重复，直到输入的是一个数字"><a href="#重复，直到输入的是一个数字" class="headerlink" title="重复，直到输入的是一个数字"></a>重复，直到输入的是一个数字</h3><p>创建一个函数 <code>readNumber</code>，它提示输入一个数字，直到访问者输入一个有效的数字为止。</p>
<p>结果值必须以数字形式返回。</p>
<p>也可以通过输入空行或点击“取消”来停止该过程。在这种情况下，函数应该返回 <code>null</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">readNumber</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> num;</span><br><span class="line">    <span class="comment">// isFinite 被用于验证字符串值是否为常规数字</span></span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        num = + <span class="title function_">prompt</span>(<span class="string">&#x27;input a number&#x27;</span>,<span class="number">0</span>);</span><br><span class="line">    &#125;<span class="keyword">while</span>( !<span class="built_in">isFinite</span>(num) );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (num === <span class="literal">null</span> || num === <span class="string">&#x27;&#x27;</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> +num;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">`Read: <span class="subst">$&#123;readNumber()&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>

<p>在处理小数时避免相等性检查</p>
<p>编写一个 <code>random(min, max)</code> 函数，用以生成一个在 <code>min</code> 到 <code>max</code> 之间的随机<strong>浮点数</strong>（不包括 <code>max</code>)）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//从 min 到 max 的随机数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">random</span>(<span class="params">min,max</span>) &#123;</span><br><span class="line">    <span class="comment">// 增加到 0..max-min + min  min..max</span></span><br><span class="line">    <span class="keyword">return</span> min + <span class="title class_">Math</span>.<span class="title function_">random</span>()*(max-min);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建一个函数 <code>randomInteger(min, max)</code>，该函数会生成一个范围在 <code>min</code> 到 <code>max</code> 中的<strong>随机整数</strong>，包括 <code>min</code> 和 <code>max</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//从 min 到 max 的随机数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">randomInteger</span>(<span class="params">min,max</span>) &#123;</span><br><span class="line">    <span class="comment">// (min-0.5)到(max+0.5)</span></span><br><span class="line">    <span class="keyword">let</span> rand =  min - <span class="number">0.5</span> + <span class="title class_">Math</span>.<span class="title function_">random</span>()*(max-min+<span class="number">1</span>); </span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">round</span>(rand);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <code>Math.floor</code> 来取范围从 <code>min</code> 到 <code>max+1</code> 的随机数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">randomInteger</span>(<span class="params">min, max</span>) &#123;</span><br><span class="line">  <span class="comment">// here rand is from min to (max+1)</span></span><br><span class="line">  <span class="keyword">let</span> rand = min + <span class="title class_">Math</span>.<span class="title function_">random</span>() * (max + <span class="number">1</span> - min);</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(rand);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">alert</span>( <span class="title function_">randomInteger</span>(<span class="number">1</span>, <span class="number">3</span>) );</span><br></pre></td></tr></table></figure>

<p>反引号的另一个优点是它们允许字符串跨行：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> guestList = <span class="string">`Guests:</span></span><br><span class="line"><span class="string"> * John</span></span><br><span class="line"><span class="string"> * Pete</span></span><br><span class="line"><span class="string"> * Mary</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(guestList); <span class="comment">// 客人清单，多行</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> guestList = <span class="string">&quot;Guests: // Error: Unexpected token ILLEGAL</span></span><br><span class="line"><span class="string">  * John&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h3><p>使用“换行符（newline character）”</p>
<p>换行符写作 <code>\n</code>，用来表示换行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str1 = <span class="string">&quot;Hello\nWorld&quot;</span>; <span class="comment">// 使用“换行符”创建的两行字符串</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用反引号和普通的换行创建的两行字符串</span></span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">`Hello</span></span><br><span class="line"><span class="string">World`</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(str1 == str2); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( <span class="string">&quot;\u00A9&quot;</span> ); <span class="comment">// ©</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="string">&quot;\u&#123;20331&#125;&quot;</span> ); <span class="comment">// 佫，罕见的中国象形文字（长 Unicode）</span></span><br><span class="line"><span class="title function_">alert</span>( <span class="string">&quot;\u&#123;1F60D&#125;&quot;</span> ); <span class="comment">// 😍，笑脸符号（另一个长 Unicode）</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( <span class="string">`The backslash: \\`</span> ); <span class="comment">// The backslash: \</span></span><br></pre></td></tr></table></figure>

<p>注意 <code>\n</code> 是一个单独的“特殊”字符，所以长度确实是 <code>3</code>。</p>
<h3 id="访问字符"><a href="#访问字符" class="headerlink" title="访问字符"></a>访问字符</h3><p>获取在 <code>pos</code> 位置的一个字符，可以使用方括号 <code>[pos]</code> 或者调用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/String/charAt">str.charAt(pos)</a> 方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`hello`</span>;</span><br><span class="line"><span class="title function_">alert</span>(str[<span class="number">0</span>]);	<span class="comment">//h</span></span><br><span class="line"><span class="title function_">alert</span>(str.<span class="title function_">charAt</span>(<span class="number">0</span>));	<span class="comment">//h</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//最后一个字符</span></span><br><span class="line">str[str.<span class="property">length</span>-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">而 charAt 是历史原因才存在的</span><br></pre></td></tr></table></figure>

<p><code>[]</code> 返回 <code>undefined</code>，而 <code>charAt</code> 返回一个空字符串</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`Hello`</span>;</span><br><span class="line"><span class="title function_">alert</span>( str[<span class="number">1000</span>] ); <span class="comment">// undefined</span></span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">charAt</span>(<span class="number">1000</span>) ); <span class="comment">// &#x27;&#x27;（空字符串）</span></span><br></pre></td></tr></table></figure>

<p>使用 <code>for..of</code> 遍历字符：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> char <span class="keyword">of</span> <span class="string">&#x27;hello&#x27;</span>)&#123;</span><br><span class="line">	<span class="title function_">alert</span>(char);	<span class="comment">//h,e,l,l,o</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>改变大小写<br><code>toLowerCase() </code>和<code> toUpperCase()</code> 方法可以改变大小写：</p>
<p>使一个字符变成小写：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;Interface&#x27;</span>[<span class="number">0</span>].<span class="title function_">toLowerCase</span>()	<span class="comment">//i</span></span><br></pre></td></tr></table></figure>

<h3 id="查找子字符串"><a href="#查找子字符串" class="headerlink" title="查找子字符串"></a>查找子字符串</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;Widget with id&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">indexOf</span>(<span class="string">&#x27;Widget&#x27;</span>) ); <span class="comment">// 0，因为 &#x27;Widget&#x27; 一开始就被找到</span></span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">indexOf</span>(<span class="string">&#x27;widget&#x27;</span>) ); <span class="comment">// -1，没有找到，检索是大小写敏感的</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">indexOf</span>(<span class="string">&quot;id&quot;</span>) ); <span class="comment">// 1，&quot;id&quot; 在位置 1 处（……idget 和 id）</span></span><br></pre></td></tr></table></figure>

<p>可选的第二个参数允许我们从一个给定的位置开始检索。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;Widget with id&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从2开始检索</span></span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">indexOf</span>(<span class="string">&#x27;id&#x27;</span>, <span class="number">2</span>) ) <span class="comment">// 12</span></span><br></pre></td></tr></table></figure>

<p>方法<code>str.lastIndexOf(substr, position)</code>，它从字符串的末尾开始搜索到开头。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;Widget with id&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (str.<span class="title function_">indexOf</span>(<span class="string">&quot;Widget&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;We found it&quot;</span>); <span class="comment">// 现在工作了！</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JavaScript 中有三种获取字符串的方法：<code>substring</code>、<code>substr</code> 和 <code>slice</code>。</p>
<p>但它允许 <code>start</code> 大于 <code>end</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;stringify&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这些对于 substring 是相同的</span></span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">substring</span>(<span class="number">2</span>, <span class="number">6</span>) ); <span class="comment">// &quot;ring&quot;</span></span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">substring</span>(<span class="number">6</span>, <span class="number">2</span>) ); <span class="comment">// &quot;ring&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ……但对 slice 是不同的：</span></span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">slice</span>(<span class="number">2</span>, <span class="number">6</span>) ); <span class="comment">// &quot;ring&quot;（一样）</span></span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">slice</span>(<span class="number">6</span>, <span class="number">2</span>) ); <span class="comment">// &quot;&quot;（空字符串）</span></span><br></pre></td></tr></table></figure>

<p>第一个参数可能是负数，从结尾算起：</p>
<h3 id="str-substr-start-length"><a href="#str-substr-start-length" class="headerlink" title="str.substr(start [, length])"></a><strong>str.substr(start [, length])</strong></h3><p>开始位置，获取字符数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;stringify&quot;</span>;</span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">substr</span>(-<span class="number">4</span>, <span class="number">2</span>) ); <span class="comment">// &#x27;gi&#x27;，从第 4 位获取 2 个字符</span></span><br></pre></td></tr></table></figure>

<p><code>slice</code> 稍微灵活一些，它允许以负值作为参数并且写法更简短</p>
<h3 id="str-slice-start-end"><a href="#str-slice-start-end" class="headerlink" title="str.slice(start [, end])"></a><strong><code>str.slice(start [, end])</code></strong></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;stringify&quot;</span>;</span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">5</span>) ); <span class="comment">// &#x27;strin&#x27;，从 0 到 5 的子字符串（不包括 5）</span></span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">1</span>) ); <span class="comment">// &#x27;s&#x27;，从 0 到 1，但不包括 1，所以只有在 0 处的字符</span></span><br></pre></td></tr></table></figure>

<p>没有第二个参数，<code>slice</code> 会一直运行到字符串末尾：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;stringify&quot;</span>;</span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">slice</span>(<span class="number">2</span>) ); <span class="comment">// 从第二个位置直到结束</span></span><br></pre></td></tr></table></figure>

<p><code>start/end</code> 也有可能是负值。它们的意思是起始位置从字符串结尾计算：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;stringify&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从右边的第四个位置开始，在右边的第一个位置结束</span></span><br><span class="line"><span class="title function_">alert</span>( str.<span class="title function_">slice</span>(-<span class="number">4</span>, -<span class="number">1</span>) ); <span class="comment">// &#x27;gif&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>str.trim()</code> —— 删除字符串前后的空格 (“trims”)</p>
</li>
<li><p><code>str.repeat(n)</code> —— 重复字符串 <code>n</code> 次</p>
<hr>
</li>
<li><p>有 3 种类型的引号。反引号允许字符串跨越多行并可以使用 <code>$&#123;…&#125;</code> 在字符串中嵌入表达式。</p>
</li>
<li><p>JavaScript 中的字符串使用的是 UTF-16 编码。</p>
</li>
<li><p>我们可以使用像 <code>\n</code> 这样的特殊字符或通过使用 <code>\u...</code> 来操作它们的 Unicode 进行字符插入。</p>
</li>
<li><p>获取字符时，使用 <code>[]</code>。</p>
</li>
<li><p>获取子字符串，使用 <code>slice</code> 或 <code>substring</code>。</p>
</li>
<li><p>字符串的大&#x2F;小写转换，使用：<code>toLowerCase/toUpperCase</code>。</p>
</li>
<li><p>查找子字符串时，使用 <code>indexOf</code> 或 <code>includes/startsWith/endsWith</code> 进行简单检查。</p>
</li>
<li><p>根据语言比较字符串时使用 <code>localeCompare</code>，否则将按字符代码进行比较。</p>
</li>
</ul>
<h3 id="首字母大写"><a href="#首字母大写" class="headerlink" title="首字母大写"></a>首字母大写</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ucFirst</span>(<span class="params">str</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> newStr = str[<span class="number">0</span>].<span class="title function_">toUpperCase</span>() + str.<span class="title function_">slice</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 空字符 str[0]---undefined</span></span><br><span class="line"><span class="comment">// 为空字符添加测试</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ucFirst</span>(<span class="params">str</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!str) <span class="keyword">return</span> str;</span><br><span class="line">    <span class="keyword">return</span> str[<span class="number">0</span>].<span class="title function_">toUpperCase</span>() + str.<span class="title function_">slice</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="检查-spam"><a href="#检查-spam" class="headerlink" title="检查 spam"></a>检查 spam</h3><p>写一个函数 <code>checkSpam(str)</code>，如果 <code>str</code> 包含 viagra 或 XXX 就返回 true，否则返回 false。</p>
<p>函数必须不区分大小写：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">checkSpam</span>(<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> lowerStr = str.<span class="title function_">toLowerCase</span>();</span><br><span class="line">    <span class="comment">// 使用includes 判断是否包含</span></span><br><span class="line">    <span class="keyword">return</span> lowerStr.<span class="title function_">includes</span>(<span class="string">&#x27;viagra&#x27;</span>) || lowerStr.<span class="title function_">includes</span>(<span class="string">&#x27;xxx&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="截断文本"><a href="#截断文本" class="headerlink" title="截断文本"></a>截断文本</h3><p>创建函数 <code>truncate(str, maxlength)</code> 来检查 <code>str</code> 的长度，</p>
<p>超过 <code>maxlength</code> —— 应使用 <code>&quot;…&quot;</code> 来代替 <code>str</code> 的结尾部分，长度仍然等于 <code>maxlength</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">truncate</span>(<span class="params">str,maxlength</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> newStr = (str.<span class="property">length</span> &gt; maxlength) ? str.<span class="title function_">slice</span>(<span class="number">0</span>,maxlength-<span class="number">1</span>)+<span class="string">&#x27;...&#x27;</span> : str ;</span><br><span class="line">    <span class="title function_">alert</span>(newStr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">truncate</span>(<span class="string">&quot;What I&#x27;d like to tell on this topic is:&quot;</span>, <span class="number">20</span>);</span><br></pre></td></tr></table></figure>

<h3 id="提取货币"><a href="#提取货币" class="headerlink" title="提取货币"></a>提取货币</h3><p>以 <code>&quot;$120&quot;</code> 这样的格式表示的花销</p>
<p>创建函数 <code>extractCurrencyValue(str)</code> 从字符串中提取数值并返回。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 以 `&quot;$120&quot;` 这样的格式表示的花销</span></span><br><span class="line"><span class="comment">// 创建函数 `extractCurrencyValue(str)` 从字符串中提取数值并返回。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">extractCurrencyValue</span>(<span class="params">Currency</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> value = +<span class="title class_">Currency</span>.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="title function_">alert</span>(value)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">extractCurrencyValue</span>(<span class="string">&#x27;$231&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><p>创建一个空数组有两种语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line"><span class="keyword">let</span> arr1 = [];</span><br></pre></td></tr></table></figure>

<p>绝大多数情况下使用的都是第二种语法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fruits = [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Plum&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>数组可以存储任何类型的元素。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 混合值</span></span><br><span class="line"><span class="keyword">let</span> arr = [ <span class="string">&#x27;Apple&#x27;</span>, &#123; <span class="attr">name</span>: <span class="string">&#x27;John&#x27;</span> &#125;, <span class="literal">true</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="title function_">alert</span>(<span class="string">&#x27;hello&#x27;</span>); &#125; ];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取索引为 1 的对象然后显示它的 name</span></span><br><span class="line"><span class="title function_">alert</span>( arr[<span class="number">1</span>].<span class="property">name</span> ); <span class="comment">// John</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取索引为 3 的函数并执行</span></span><br><span class="line">arr[<span class="number">3</span>](); <span class="comment">// hello</span></span><br></pre></td></tr></table></figure>

<p>数组就像对象一样，可以以逗号结尾：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fruits = [</span><br><span class="line">  <span class="string">&quot;Apple&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Orange&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Plum&quot;</span>,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>显式地计算最后一个元素的索引，然后访问它：<code>fruits[fruits.length - 1]</code>。</p>
<p>更简短的语法 <code>fruits.at(-1)</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fruits = [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Plum&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 与 fruits[fruits.length-1] 相同</span></span><br><span class="line"><span class="title function_">alert</span>( fruits.<span class="title function_">at</span>(-<span class="number">1</span>) ); <span class="comment">// Plum</span></span><br></pre></td></tr></table></figure>

<p>队列（queue）是最常见的使用数组的方法</p>
<ul>
<li><p><code>push</code> 在末端添加一个元素.</p>
</li>
<li><p><code>shift</code> 取出队列首端的一个元素，整个队列往前移</p>
<img src="C:\Users\86133\AppData\Roaming\Typora\typora-user-images\image-20220606154942879.png" alt="image-20220606154942879" style="zoom:25%;" /></li>
</ul>
<p> FIFO（First-In-First-Out），即先进先出</p>
<p>数组还有另一个用例，就是数据结构 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Stack_(abstract_data_type)">栈</a>。</p>
<p>它支持两种操作：</p>
<ul>
<li><code>push</code> 在末端添加一个元素.</li>
<li><code>pop</code> 从末端取出一个元素.</li>
</ul>
<img src="C:\Users\86133\AppData\Roaming\Typora\typora-user-images\image-20220606155002866.png" alt="image-20220606155002866" style="zoom:25%;" />

<p> LIFO（Last-In-First-Out），即后进先出法则</p>
<p> 双端队列（deque）</p>
<p>可以用作队列，也可以用作栈。</p>
<p><strong>pop</strong>—<strong>push</strong>  末端删除    添加</p>
<p><strong>shift</strong>—<strong>unshift</strong> 首段移除 添加</p>
<p><code>push/pop</code> 方法运行的比较快，而 <code>shift/unshift</code> 比较慢。</p>
<img src="C:\Users\86133\AppData\Roaming\Typora\typora-user-images\image-20220606155537119.png" alt="image-20220606155537119" style="zoom:25%;" />

<p>与 <code>obj[key]</code> 相同，其中 <code>arr</code> 是对象，而数字用作键（key）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fruits = [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Plum&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历数组元素</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> fruit <span class="keyword">of</span> fruits) &#123;</span><br><span class="line">  <span class="title function_">alert</span>( fruit );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>数组也是对象，所以使用 <code>for..in</code> 也是可以的：</p>
<p>清空数组最简单的方法就是：<code>arr.length = 0;</code>。</p>
<p>我们可以通过下列操作以双端队列的方式使用数组：</p>
<ul>
<li><p><code>push(...items)</code> 在末端添加 <code>items</code> 项。</p>
</li>
<li><p><code>pop()</code> 从末端移除并返回该元素。</p>
</li>
<li><p><code>shift()</code> 从首端移除并返回该元素。</p>
</li>
<li><p><code>unshift(...items)</code> 从首端添加 <code>items</code> 项。</p>
<p>遍历数组的元素：</p>
</li>
<li><p><code>for (let i=0; i&lt;arr.length; i++)</code> — 运行得最快，可兼容旧版本浏览器。</p>
</li>
<li><p><code>for (let item of arr)</code> — 现代语法，只能访问 items。</p>
</li>
<li><p><code>for (let i in arr)</code> — 永远不要用这个。</p>
</li>
</ul>
<p>比较数组时，不要使用 <code>==</code> 运算符</p>
<p>使用 <code>for..of</code> 循环来逐项比较数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 应该结束了吗？</span></span><br><span class="line">  <span class="keyword">if</span> (value === <span class="string">&quot;&quot;</span> || value === <span class="literal">null</span> || !<span class="built_in">isFinite</span>(value)) <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<p>我们已经学了从数组的首端或尾端添加和删除元素的方法：</p>
<ul>
<li><code>arr.push(...items)</code> —— 从尾端添加元素，</li>
<li><code>arr.pop()</code> —— 从尾端提取元素，</li>
<li><code>arr.shift()</code> —— 从首端提取元素，</li>
<li><code>arr.unshift(...items)</code> —— 从首端添加元素。</li>
</ul>
<p><code>arr.splice</code> 做所有事情：添加，删除和插入元素。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;I&quot;</span>, <span class="string">&quot;study&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// 从索引 1 开始删除 1 个元素</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( arr ); <span class="comment">// [&quot;I&quot;, &quot;JavaScript&quot;]</span></span><br></pre></td></tr></table></figure>

<p><code>deleteCount</code> 设置为 <code>0</code>，<code>splice</code> 方法就能够<strong>插入</strong>元素而不用删除任何元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;I&quot;</span>, <span class="string">&quot;study&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从索引 2 开始</span></span><br><span class="line"><span class="comment">// 删除 0 个元素</span></span><br><span class="line"><span class="comment">// 然后插入 &quot;complex&quot; 和 &quot;language&quot;</span></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">0</span>, <span class="string">&quot;complex&quot;</span>, <span class="string">&quot;language&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( arr ); <span class="comment">// &quot;I&quot;, &quot;study&quot;, &quot;complex&quot;, &quot;language&quot;, &quot;JavaScript&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从索引 -1（尾端前一位）</span></span><br><span class="line"><span class="comment">// 删除 0 个元素，</span></span><br><span class="line"><span class="comment">// 然后插入 3 和 4</span></span><br><span class="line">arr.<span class="title function_">splice</span>(-<span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( arr ); <span class="comment">// 1,2,3,4,5</span></span><br></pre></td></tr></table></figure>

<h3 id="slice"><a href="#slice" class="headerlink" title="slice"></a><a target="_blank" rel="noopener" href="https://zh.javascript.info/array-methods#slice">slice</a></h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Array/slice">arr.slice</a> 方法比 <code>arr.splice</code> 简单得多</p>
<p>将所有从索引 <code>start</code> 到 <code>end</code>（不包括 <code>end</code>）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">arr.<span class="title function_">slice</span>([start], [end])</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;t&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;s&quot;</span>, <span class="string">&quot;t&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( arr.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">3</span>) ); <span class="comment">// e,s（复制从位置 1 到位置 3 的元素）</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( arr.<span class="title function_">slice</span>(-<span class="number">2</span>) ); <span class="comment">// s,t（复制从位置 -2 到尾端的元素）</span></span><br></pre></td></tr></table></figure>

<p><code>arr.slice()</code> 会创建一个 <code>arr</code> 的副本。其通常用于获取副本</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Array/concat">arr.concat</a> 创建一个新数组，其中包含来自于其他数组和其他项的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// create an array from: arr and [3,4]</span></span><br><span class="line"><span class="title function_">alert</span>( arr.<span class="title function_">concat</span>([<span class="number">3</span>, <span class="number">4</span>]) ); <span class="comment">// 1,2,3,4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// create an array from: arr and [3,4] and [5,6]</span></span><br><span class="line"><span class="title function_">alert</span>( arr.<span class="title function_">concat</span>([<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]) ); <span class="comment">// 1,2,3,4,5,6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// create an array from: arr and [3,4], then add values 5 and 6</span></span><br><span class="line"><span class="title function_">alert</span>( arr.<span class="title function_">concat</span>([<span class="number">3</span>, <span class="number">4</span>], <span class="number">5</span>, <span class="number">6</span>) ); <span class="comment">// 1,2,3,4,5,6</span></span><br></pre></td></tr></table></figure>

<p><code>arr.forEach </code>方法允许为数组的<strong>每个元素</strong>都运行一个函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对每个元素调用 alert</span></span><br><span class="line">[<span class="string">&quot;Bilbo&quot;</span>, <span class="string">&quot;Gandalf&quot;</span>, <span class="string">&quot;Nazgul&quot;</span>].<span class="title function_">forEach</span>(alert);</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">item, index, array</span>) &#123;</span><br><span class="line">  <span class="comment">// ... do something with item</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>arr.indexOf(item, from)</code> 从索引 <code>from</code> 开始搜索 <code>item</code>，如果找到则返回索引，否则返回 <code>-1</code>。</li>
<li><code>arr.lastIndexOf(item, from)</code> —— 和上面相同，只是从右向左搜索。</li>
<li><code>arr.includes(item, from)</code> —— 从索引 <code>from</code> 开始搜索 <code>item</code>，如果找到则返回 <code>true</code>（译注：如果没找到，则返回 <code>false</code>）。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> users = [</span><br><span class="line">  &#123;<span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&quot;Pete&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&quot;Mary&quot;</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = users.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">id</span> == <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(user.<span class="property">name</span>); <span class="comment">// John</span></span><br></pre></td></tr></table></figure>

<p> <code>find</code> 一个单参数函数 <code>item =&gt; item.id == 1</code></p>
<p>匹配的有很多，我们可以使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">arr.filter(fn)</a></p>
<p>它对<strong>数组</strong>的每个元素都调用函数，并<strong>返回结果数组</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = arr.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">item, index, array</span>) &#123;</span><br><span class="line">  <span class="comment">// 返回新值而不是当前元素</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="sort-fn"><a href="#sort-fn" class="headerlink" title="sort(fn)"></a><a target="_blank" rel="noopener" href="https://zh.javascript.info/array-methods#sortfn">sort(fn)</a></h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">arr.sort</a> 方法对数组进行 <strong>原位（in-place）</strong> 排序，更改元素的顺序。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">compareNumeric</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (a &gt; b) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (a == b) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (a &lt; b) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">15</span> ];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">sort</span>(compareNumeric);</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(arr);  <span class="comment">// 1, 2, 15</span></span><br></pre></td></tr></table></figure>

<p>需要一个 <strong>排序函数</strong> 来确认如何比较这些元素</p>
<p><strong>箭头函数最好</strong></p>
<p><code>arr.sort( (a, b) =&gt; a - b );</code></p>
<p><strong>使用</strong> <code>localeCompare</code> <strong>for strings</strong></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse">arr.reverse</a> 方法用于颠倒 <code>arr</code> 中元素的顺序</p>
<p><code>forEach(func)</code> —— 对每个元素都调用 <code>func</code>，不返回任何内容。</p>
<p>转换数组：</p>
<ul>
<li><code>map(func)</code> —— 根据对每个元素调用 <code>func</code> 的结果创建一个新数组。</li>
<li><code>sort(func)</code> —— 对数组进行原位（in-place）排序，然后返回它。</li>
<li><code>reverse()</code> —— 原位（in-place）反转数组，然后返回它。</li>
<li><code>split/join</code> —— 将字符串转换为数组并返回。</li>
<li><code>reduce/reduceRight(func, initial)</code> —— 通过对每个元素调用 <code>func</code> 计算数组上的单个值，并在调用之间传递中间结果。</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/String/split">str.split(delim)</a> 方法可以做到。它通过给定的分隔符 <code>delim</code> 将字符串分割成一个数组。</p>
<p>第二个数字参数 —— 对数组长度的限制</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Array/join">arr.join(glue)</a> 与 <code>split</code> 相反。它会在它们之间创建一串由 <code>glue</code> 粘合的 <code>arr</code> 项</p>
<h3 id="可迭代对象"><a href="#可迭代对象" class="headerlink" title="可迭代对象"></a>可迭代对象</h3><p><code>Iterable</code>对象–数组的泛化</p>
<p>数组是可迭代的–很多其他内建对象也是</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> range = &#123;</span><br><span class="line">  <span class="attr">from</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">to</span>: <span class="number">5</span>,</span><br><span class="line"></span><br><span class="line">  [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]() &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">current</span> = <span class="variable language_">this</span>.<span class="property">from</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="title function_">next</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">current</span> &lt;= <span class="variable language_">this</span>.<span class="property">to</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">false</span>, <span class="attr">value</span>: <span class="variable language_">this</span>.<span class="property">current</span>++ &#125;;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> num <span class="keyword">of</span> range) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(num); <span class="comment">// 1, 然后是 2, 3, 4, 5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对象不是数组，而是表示某物的集合（列表，集合），<code>for..of</code> 是一个能够遍历它的很好的语法</p>
<p>数组和字符串是使用最广泛的内建可迭代对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> <span class="string">&quot;test&quot;</span>) &#123;</span><br><span class="line">  <span class="comment">// 触发 4 次，每个字符一次</span></span><br><span class="line">  <span class="title function_">alert</span>( char ); <span class="comment">// t, then e, then s, then t</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;𝒳😂&#x27;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> str) &#123;</span><br><span class="line">    <span class="title function_">alert</span>( char ); <span class="comment">// 𝒳，然后是 😂</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


      <div class="tags">
          <a href="/tags/js/" rel="tag"><i class="ic i-tag"></i> js</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">Edited on</span>
    <time title="Modified: 2022-06-06 17:35:00" itemprop="dateModified" datetime="2022-06-06T17:35:00+08:00">2022-06-06</time>
  </span>
</div>

      
<div class="reward">
  <button><i class="ic i-heartbeat"></i> Donate</button>
  <p>Give me a cup of [coffee]~(￣▽￣)~*</p>
  <div id="qr">
      
      <div>
        <img data-src="/images/wechatpay.png" alt="XU XUESI WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div>
        <img data-src="/images/alipay.png" alt="XU XUESI Alipay">
        <p>Alipay</p>
      </div>
      
      <div>
        <img data-src="/images/paypal.png" alt="XU XUESI PayPal">
        <p>PayPal</p>
      </div>
  </div>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>Post author:  </strong>XU XUESI <i class="ic i-at"><em>@</em></i>HI
  </li>
  <li class="link">
    <strong>Post link: </strong>
    <a href="http://turnaround.icu/2022/05/23/%E5%89%8D%E7%AB%AF%E5%A4%8D%E4%B9%A04-day04/" title="前端复习4 day04">http://turnaround.icu/2022/05/23/前端复习4-day04/</a>
  </li>
  <li class="license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2022/05/20/%E5%89%8D%E7%AB%AF%E5%A4%8D%E4%B9%A03-day03/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;i.loli.net&#x2F;2020&#x2F;05&#x2F;01&#x2F;gkihqEjXxJ5UZ1C.jpg" title="前端复习3 day03">
  <span class="type">Previous Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>前端复习3 day03</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2022/05/25/%E5%89%8D%E7%AB%AF%E5%A4%8D%E4%B9%A05-day05/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s3.bmp.ovh&#x2F;imgs&#x2F;2022&#x2F;04&#x2F;07&#x2F;454ef54d7414f0c3.jpg" title="前端复习5 day05">
  <span class="type">Next Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>前端复习5 day05</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="Contents">
          <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.1.</span> <span class="toc-text">常见内建函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0-%E7%AC%AC%E4%B8%80%E7%A7%8D%E4%B9%A6%E5%86%99%E6%96%B9%E5%BC%8F%E2%80%94%E5%87%BD%E6%95%B0%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="toc-number">1.1.</span> <span class="toc-text">自定义函数    第一种书写方式—函数的声明</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F-%E2%80%93-%E5%8F%AA%E5%9C%A8%E5%87%BD%E6%95%B0%E5%86%85%E9%83%A8%E5%8F%AF%E8%A7%81"><span class="toc-number">1.1.1.</span> <span class="toc-text">局部变量 – 只在函数内部可见</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E5%8F%98%E9%87%8F%E2%80%94%E5%87%BD%E6%95%B0%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%E5%A4%96%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">1.1.2.</span> <span class="toc-text">外部变量—函数也可以访问外部变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0"><span class="toc-number">1.1.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">1.1.4.</span> <span class="toc-text">默认值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">1.1.5.</span> <span class="toc-text">返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%91%BD%E5%90%8D"><span class="toc-number">1.1.6.</span> <span class="toc-text">函数命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BA%94%E8%AF%A5%E7%AE%80%E7%9F%AD%E4%B8%94%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.7.</span> <span class="toc-text">函数应该简短且只有一个功能</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">1.2.</span> <span class="toc-text">练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-%E2%80%98-%E2%80%99-%E6%88%96%E8%80%85-%E2%80%98-%E2%80%99-%E9%87%8D%E5%86%99%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.1.</span> <span class="toc-text">使用 ‘?’ 或者 ‘||’ 重写函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0min-a-b"><span class="toc-number">1.2.2.</span> <span class="toc-text">函数min(a,b)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-pow-x-n"><span class="toc-number">1.2.3.</span> <span class="toc-text">函数 pow(x,n)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E4%B9%A6%E5%86%99%E6%96%B9%E5%BC%8F%E2%80%94%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.3.</span> <span class="toc-text">第二种书写方式—函数表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%98%AF%E4%B8%80%E4%B8%AA%E5%80%BC"><span class="toc-number">1.3.1.</span> <span class="toc-text">函数是一个值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.2.</span> <span class="toc-text">回调函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AE%80%E5%86%99"><span class="toc-number">1.3.3.</span> <span class="toc-text">函数表达式简写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F-vs-%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E"><span class="toc-number">1.3.4.</span> <span class="toc-text">函数表达式 vs 函数声明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F%E2%80%94%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.</span> <span class="toc-text">第三种创建方式—箭头函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E7%9A%84%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.1.</span> <span class="toc-text">多行的箭头函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.2.</span> <span class="toc-text">箭头函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-1"><span class="toc-number">1.4.3.</span> <span class="toc-text">练习</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E9%87%8D%E5%86%99"><span class="toc-number">1.4.4.</span> <span class="toc-text">用箭头函数重写</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E7%89%B9%E6%80%A7"><span class="toc-number">1.5.</span> <span class="toc-text">JavaScript特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%BB%93%E6%9E%84"><span class="toc-number">1.5.1.</span> <span class="toc-text">代码结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.5.2.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E4%BA%92"><span class="toc-number">1.5.3.</span> <span class="toc-text">交互</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.5.4.</span> <span class="toc-text">运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-1"><span class="toc-number">1.5.5.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BCreturn"><span class="toc-number">1.5.6.</span> <span class="toc-text">函数的返回值return</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#arguments%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.7.</span> <span class="toc-text">arguments的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%87%BD%E6%95%B0%E6%B1%82%E4%BB%BB%E6%84%8F%E4%B8%AA%E6%95%B0%E7%9A%84MAX"><span class="toc-number">1.5.8.</span> <span class="toc-text">利用函数求任意个数的MAX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%87%BD%E6%95%B0%E7%BF%BB%E8%BD%AC%E6%95%B0%E7%BB%84"><span class="toc-number">1.5.9.</span> <span class="toc-text">利用函数翻转数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E2%80%94%E5%AF%B9%E6%95%B0%E7%BB%84%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">1.5.10.</span> <span class="toc-text">利用函数封装冒泡排序—对数组进行排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%B8%BA%E9%97%B0%E5%B9%B4"><span class="toc-number">1.5.11.</span> <span class="toc-text">判断是否为闰年</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.12.</span> <span class="toc-text">函数调用另一个函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E4%B8%A4%E7%A7%8D%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.6.</span> <span class="toc-text">JavaScript两种作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JS%E9%A2%84%E8%A7%A3%E6%9E%90"><span class="toc-number">1.6.1.</span> <span class="toc-text">JS预解析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.7.</span> <span class="toc-text">对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%8B%AC%E5%8F%B7"><span class="toc-number">1.7.1.</span> <span class="toc-text">方括号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-number">1.7.2.</span> <span class="toc-text">计算属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E5%80%BC%E7%AE%80%E5%86%99"><span class="toc-number">1.7.3.</span> <span class="toc-text">属性值简写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E5%AD%98%E5%9C%A8%E6%80%A7%E6%B5%8B%E8%AF%95%EF%BC%8C%E2%80%9Cin%E2%80%9D-%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">1.7.4.</span> <span class="toc-text">属性存在性测试，“in” 操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9Cfor%E2%80%A6in%E2%80%9D-%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.7.5.</span> <span class="toc-text">“for…in” 循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%83%8F%E5%AF%B9%E8%B1%A1%E4%B8%80%E6%A0%B7%E6%8E%92%E5%BA%8F"><span class="toc-number">1.7.6.</span> <span class="toc-text">像对象一样排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.7.7.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-2"><span class="toc-number">1.7.8.</span> <span class="toc-text">练习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%A4%8D%E5%88%B6%E4%B8%8E%E5%BC%95%E7%94%A8"><span class="toc-number">1.8.</span> <span class="toc-text">对象复制与引用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%8B%E9%9A%86%E4%B8%8E%E5%90%88%E5%B9%B6%E2%80%94Object-assign"><span class="toc-number">1.8.1.</span> <span class="toc-text">克隆与合并—Object.assign</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8-Object-assign-%E4%BB%A3%E6%9B%BF-for-in-%E5%BE%AA%E7%8E%AF%E6%9D%A5%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E5%85%8B%E9%9A%86"><span class="toc-number">1.8.2.</span> <span class="toc-text">用 Object.assign 代替 for..in 循环来进行简单克隆</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B1%E5%B1%82%E5%85%8B%E9%9A%86%E2%80%93%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E4%B8%AD%E5%90%AB%E6%9C%89%E5%85%B6%E4%BB%96%E5%AF%B9%E8%B1%A1%E6%97%B6"><span class="toc-number">1.8.3.</span> <span class="toc-text">深层克隆–对象属性中含有其他对象时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E5%AF%B9%E5%AF%B9%E8%B1%A1%E8%BF%9B%E8%A1%8C%E5%AD%98%E5%82%A8%E7%9A%84%E4%B8%80%E4%B8%AA%E9%87%8D%E8%A6%81%E7%9A%84%E5%89%AF%E4%BD%9C%E7%94%A8%E6%98%AF"><span class="toc-number">1.8.4.</span> <span class="toc-text">引用对对象进行存储的一个重要的副作用是</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6"><span class="toc-number">1.9.</span> <span class="toc-text">垃圾回收</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E7%AE%97%E6%B3%95"><span class="toc-number">1.9.1.</span> <span class="toc-text">内部算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">1.9.2.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95%EF%BC%8C%E2%80%9Dthis%E2%80%9D"><span class="toc-number">1.10.</span> <span class="toc-text">对象方法，”this”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%AD%E7%9A%84-%E2%80%9Cthis%E2%80%9D"><span class="toc-number">1.10.1.</span> <span class="toc-text">方法中的 “this”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9Cthis%E2%80%9D-%E4%B8%8D%E5%8F%97%E9%99%90%E5%88%B6"><span class="toc-number">1.10.2.</span> <span class="toc-text">“this” 不受限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E6%B2%A1%E6%9C%89%E8%87%AA%E5%B7%B1%E7%9A%84-%E2%80%9Cthis%E2%80%9D"><span class="toc-number">1.10.3.</span> <span class="toc-text">箭头函数没有自己的 “this”</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-3"><span class="toc-number">1.11.</span> <span class="toc-text">练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F%E4%B8%AD%E4%BD%BF%E7%94%A8-%E2%80%9Cthis%E2%80%9D"><span class="toc-number">1.11.1.</span> <span class="toc-text">在对象字面量中使用 “this”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%AE%A1%E7%AE%97%E5%99%A8"><span class="toc-number">1.11.2.</span> <span class="toc-text">创建一个计算器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%99%A8%E5%92%8C%E6%93%8D%E4%BD%9C%E7%AC%A6-%E2%80%9Cnew%E2%80%9D"><span class="toc-number">1.12.</span> <span class="toc-text">构造器和操作符 “new”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">1.12.1.</span> <span class="toc-text">构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%99%A8%E7%9A%84-return"><span class="toc-number">1.12.2.</span> <span class="toc-text">构造器的 return</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E4%BB%85%E5%8F%AF%E4%BB%A5%E5%B0%86%E5%B1%9E%E6%80%A7%E6%B7%BB%E5%8A%A0%E5%88%B0-this-%E4%B8%AD%EF%BC%8C%E8%BF%98%E5%8F%AF%E4%BB%A5%E6%B7%BB%E5%8A%A0%E6%96%B9%E6%B3%95"><span class="toc-number">1.12.3.</span> <span class="toc-text">不仅可以将属性添加到 this 中，还可以添加方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">1.12.4.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-4"><span class="toc-number">1.12.5.</span> <span class="toc-text">练习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E9%93%BE-%E2%80%9C-%E2%80%9D%E2%80%94%E6%9C%80%E8%BF%91%E6%B7%BB%E5%8A%A0%E5%88%B0-JavaScript-%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">1.13.</span> <span class="toc-text">可选链 “?.”—最近添加到 JavaScript 的特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E5%80%BC%E5%90%88%E5%B9%B6%E8%BF%90%E7%AE%97%E7%AC%A6-%E2%80%98-%E2%80%99"><span class="toc-number">1.13.1.</span> <span class="toc-text">空值合并运算符 ‘??’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9C%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E5%B1%9E%E6%80%A7%E2%80%9D%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.13.2.</span> <span class="toc-text">“不存在的属性”的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%AD%E8%B7%AF%E6%95%88%E5%BA%94"><span class="toc-number">1.13.3.</span> <span class="toc-text">短路效应</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#symbol-%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">symbol 类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#symbol"><span class="toc-number">2.1.</span> <span class="toc-text">symbol</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9C%E9%9A%90%E8%97%8F%E2%80%9D%E5%B1%9E%E6%80%A7"><span class="toc-number">2.1.1.</span> <span class="toc-text">“隐藏”属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%96%B9%E6%B3%95%E2%80%93%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F%E4%B8%AD%E7%9A%84-symbol"><span class="toc-number">2.1.2.</span> <span class="toc-text">第二种创建方法–对象字面量中的 symbol</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80-symbol"><span class="toc-number">2.1.3.</span> <span class="toc-text">全局 symbol</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-number">2.1.4.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1-%E2%80%94-%E5%8E%9F%E5%A7%8B%E5%80%BC%E8%BD%AC%E6%8D%A2"><span class="toc-number">3.</span> <span class="toc-text">对象 — 原始值转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E8%A7%84%E5%88%99"><span class="toc-number">3.0.1.</span> <span class="toc-text">转换规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hint-%E2%80%93-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%9C%A8%E5%90%84%E7%A7%8D%E6%83%85%E5%86%B5%E4%B8%8B%E6%9C%89%E4%B8%89%E7%A7%8D%E5%8F%98%E4%BD%93"><span class="toc-number">3.0.2.</span> <span class="toc-text">hint – 类型转换在各种情况下有三种变体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toString-x2F-valueOf"><span class="toc-number">3.0.3.</span> <span class="toc-text">toString&#x2F;valueOf</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8E%9F%E5%A7%8B%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">4.</span> <span class="toc-text">原始类型的方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.</span> <span class="toc-text">数字类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%88%8D%E5%85%A5"><span class="toc-number">5.0.1.</span> <span class="toc-text">舍入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E7%B2%BE%E7%A1%AE%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-number">5.0.2.</span> <span class="toc-text">不精确的计算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#parseInt-%E5%92%8C-parseFloat"><span class="toc-number">5.0.3.</span> <span class="toc-text">parseInt 和 parseFloat</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1"><span class="toc-number">5.1.</span> <span class="toc-text">任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88-6-35-toFixed-1-x3D-x3D-6-3%EF%BC%9F"><span class="toc-number">5.2.</span> <span class="toc-text">为什么 6.35.toFixed(1) &#x3D;&#x3D; 6.3？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%A4%8D%EF%BC%8C%E7%9B%B4%E5%88%B0%E8%BE%93%E5%85%A5%E7%9A%84%E6%98%AF%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97"><span class="toc-number">5.2.1.</span> <span class="toc-text">重复，直到输入的是一个数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6"><span class="toc-number">5.2.2.</span> <span class="toc-text">特殊字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%AD%97%E7%AC%A6"><span class="toc-number">5.2.3.</span> <span class="toc-text">访问字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">5.2.4.</span> <span class="toc-text">查找子字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#str-substr-start-length"><span class="toc-number">5.2.5.</span> <span class="toc-text">str.substr(start [, length])</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#str-slice-start-end"><span class="toc-number">5.2.6.</span> <span class="toc-text">str.slice(start [, end])</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%96%E5%AD%97%E6%AF%8D%E5%A4%A7%E5%86%99"><span class="toc-number">5.2.7.</span> <span class="toc-text">首字母大写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5-spam"><span class="toc-number">5.2.8.</span> <span class="toc-text">检查 spam</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%AA%E6%96%AD%E6%96%87%E6%9C%AC"><span class="toc-number">5.2.9.</span> <span class="toc-text">截断文本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E8%B4%A7%E5%B8%81"><span class="toc-number">5.2.10.</span> <span class="toc-text">提取货币</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">6.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#slice"><span class="toc-number">6.0.1.</span> <span class="toc-text">slice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sort-fn"><span class="toc-number">6.0.2.</span> <span class="toc-text">sort(fn)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.0.3.</span> <span class="toc-text">可迭代对象</span></a></li></ol></li></ol></li></ol>
      </div>
      <div class="related panel pjax" data-title="Related">
      </div>
      <div class="overview panel" data-title="Overview">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="XU XUESI"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">XU XUESI</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">62</span>
        <span class="name">posts</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">12</span>
        <span class="name">tags</span>
      </a>
    </div>
</nav>

<div class="social">
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>Home</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2022/05/20/%E5%89%8D%E7%AB%AF%E5%A4%8D%E4%B9%A03-day03/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2022/05/25/%E5%89%8D%E7%AB%AF%E5%A4%8D%E4%B9%A05-day05/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>Random Posts</h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2022/04/12/To-Be-a-HTTP-Hero/" title="To Be a HTTP Hero 1">To Be a HTTP Hero 1</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2022/04/13/What-is-JavaScript-Object-3/" title="What is JavaScript Object 3">What is JavaScript Object 3</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2022/04/11/JavaScript-Syntax-Advanced-1/" title="JavaScript Syntax Advanced 1">JavaScript Syntax Advanced 1</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2022/08/22/IELTS-Writing-DAY01/" title="IELTS Writing DAY01">IELTS Writing DAY01</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2022/04/12/What-is-JavaScript-Object/" title="What is JavaScript Object">What is JavaScript Object</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2022/05/17/%E5%89%8D%E7%AB%AF%E5%A4%8D%E4%B9%A02-day01/" title="前端复习2 day01">前端复习2 day01</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2022/04/11/Linear%20table-04-stack/" title="Linear table 04 Stack">Linear table 04 Stack</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2022/04/06/About-the-blog/" title="About the blog">About the blog</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2022/06/06/JavaScript%20%E5%87%BD%E6%95%B0/" title="Untitled">Untitled</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2022/08/22/IELTS-R538-DAY01/" title="IELTS R538 DAY01">IELTS R538 DAY01</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>Recent Comments</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2022</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">XU XUESI @ Yume Shoka</span>
  </div>
  <div class="powered-by">
    Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2022/05/23/前端复习4-day04/',
    favicon: {
      show: "（●´3｀●）Goooood",
      hide: "(´Д｀)Booooom"
    },
    search : {
      placeholder: "Search for Posts",
      empty: "We didn't find any results for the search: ${query}",
      stats: "${hits} results found in ${time} ms"
    },
    valine: true,fancybox: true,
    copyright: 'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
